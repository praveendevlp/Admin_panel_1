"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[849],{9849:(M,r,l)=>{l.r(r),l.d(r,{EmailsModule:()=>b});var m=l(6895),h=l(7136),e=l(1571),p=l(7241),g=l(5830),n=l(433),d=l(8423),c=l(6442);const f=function(){return{standalone:!0}},v=[{path:"",component:(()=>{class s{constructor(i,t){this.util=i,this.api=t,this.subject="",this.message="",this.sendTo=1,this.ckeConfig={height:300,language:"en",allowedContent:!0,toolbar:[{name:"editing",items:["Scayt","Find","Replace","SelectAll"]},{name:"clipboard",items:["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"tools",items:["Maximize","ShowBlocks","Preview","Print","Templates"]},{name:"document",items:["Source"]},{name:"insert",items:["Image","Table","HorizontalRule","SpecialChar","Iframe","imageExplorer"]},{name:"basicstyles",items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","CreateDiv","-","Blockquote"]},{name:"justify",items:["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},{name:"styles",items:["Styles","Format","FontSize","-","TextColor","BGColor"]}]}}ngOnInit(){}sendToAll(){const i={subjects:this.subject,content:this.message};this.util.show(),this.api.post_private("v1/users/sendMailToAll",i).then(t=>{console.log(t),this.util.hide(),t&&(this.util.success(this.util.translate("Email sent")),this.subject="",this.message="")},t=>{console.log(t),this.util.hide(),this.util.apiErrorHandler(t)}).catch(t=>{console.log(t),this.util.hide(),this.util.apiErrorHandler(t)})}sendToStores(){const i={subjects:this.subject,content:this.message};this.util.show(),this.api.post_private("v1/users/sendMailToStores",i).then(t=>{console.log(t),this.util.hide(),t&&(this.util.success(this.util.translate("Email sent")),this.subject="",this.message="")},t=>{console.log(t),this.util.hide(),this.util.apiErrorHandler(t)}).catch(t=>{console.log(t),this.util.hide(),this.util.apiErrorHandler(t)})}sendToDrivers(){const i={subjects:this.subject,content:this.message};this.util.show(),this.api.post_private("v1/users/sendMailToDrivers",i).then(t=>{console.log(t),this.util.hide(),t&&(this.util.success(this.util.translate("Email sent")),this.subject="",this.message="")},t=>{console.log(t),this.util.hide(),this.util.apiErrorHandler(t)}).catch(t=>{console.log(t),this.util.hide(),this.util.apiErrorHandler(t)})}save(){return""!=this.subject&&""!=this.message&&this.subject&&this.message&&null!=this.subject&&null!=this.message?1==this.sendTo?(this.sendToAll(),!1):(2==this.sendTo&&this.sendToUsers(),3==this.sendTo&&this.sendToStores(),void(4==this.sendTo&&this.sendToDrivers())):(this.util.error("All Fields are required"),!1)}sendToUsers(){const i={subjects:this.subject,content:this.message};this.util.show(),this.api.post_private("v1/users/sendMailToUsers",i).then(t=>{console.log(t),this.util.hide(),t&&(this.util.success(this.util.translate("Email sent")),this.subject="",this.message="")},t=>{console.log(t),this.util.hide(),this.util.apiErrorHandler(t)}).catch(t=>{console.log(t),this.util.hide(),this.util.apiErrorHandler(t)})}}return s.\u0275fac=function(i){return new(i||s)(e.Y36(p.f),e.Y36(g.s))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-emails"]],decls:32,vars:20,consts:[["type","ball-scale-multiple"],[1,"animated","fadeIn"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-sm-12"],[1,"form-group"],[1,"modal_lbl"],["type","text","rows","6",1,"form-control",3,"ngModelOptions","ngModel","placeholder","ngModelChange"],["debounce","500",3,"ngModel","config","ngModelChange"],["name","select",1,"form-control",3,"ngModel","ngModelChange"],[3,"value"],["type","button",1,"btn","btn-success",3,"click"]],template:function(i,t){1&i&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.qZA(),e.TgZ(7,"div",6)(8,"div",2)(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12),e.qZA(),e.TgZ(13,"input",10),e.NdJ("ngModelChange",function(a){return t.subject=a}),e.qZA()(),e.TgZ(14,"div",8)(15,"label"),e._uU(16),e.qZA(),e.TgZ(17,"ckeditor",11),e.NdJ("ngModelChange",function(a){return t.message=a}),e.qZA()(),e.TgZ(18,"div",8)(19,"label"),e._uU(20),e.qZA(),e.TgZ(21,"select",12),e.NdJ("ngModelChange",function(a){return t.sendTo=a}),e.TgZ(22,"option",13),e._uU(23),e.qZA(),e.TgZ(24,"option",13),e._uU(25),e.qZA(),e.TgZ(26,"option",13),e._uU(27),e.qZA(),e.TgZ(28,"option",13),e._uU(29),e.qZA()()(),e.TgZ(30,"button",14),e.NdJ("click",function(){return t.save()}),e._uU(31),e.qZA()()()()()()()()),2&i&&(e.xp6(6),e.hij(" ",t.util.translate("Send Mail")," "),e.xp6(6),e.Oqu(t.util.translate("Subjects")),e.xp6(1),e.Q6J("ngModelOptions",e.DdM(19,f))("ngModel",t.subject)("placeholder",t.util.translate("Subjects")),e.xp6(3),e.Oqu(t.util.translate("Message")),e.xp6(1),e.Q6J("ngModel",t.message)("config",t.ckeConfig),e.xp6(3),e.Oqu(t.util.translate("Send Email To")),e.xp6(1),e.Q6J("ngModel",t.sendTo),e.xp6(1),e.Q6J("value",1),e.xp6(1),e.hij("",t.util.translate("All")," "),e.xp6(1),e.Q6J("value",2),e.xp6(1),e.hij("",t.util.translate("Users")," "),e.xp6(1),e.Q6J("value",3),e.xp6(1),e.hij("",t.util.translate("Stores")," "),e.xp6(1),e.Q6J("value",4),e.xp6(1),e.hij(" ",t.util.translate("Drivers")," "),e.xp6(2),e.hij(" ",t.util.translate("Submit"),""))},dependencies:[n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.On,d.Ro,c.w5],styles:['@charset "UTF-8";']}),s})()}];let T=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[h.Bz.forChild(v),h.Bz]}),s})(),b=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[m.ez,T,n.u5,d.ef,c.dF]}),s})()}}]);