"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[277],{7277:(B,y,f)=>{f.r(y),f.d(y,{AdministratorModule:()=>U});var a=f(6895),C=f(7136),M=f(5226),A=f.n(M),e=f(1571),k=f(5830),R=f(7241),D=f(388),T=f(433),d=f(8423),v=f(4333),t=f(502),r=f(4980);const l=["myModal2"],n=["myModal3"];function g(u,b){if(1&u&&(e.TgZ(0,"div",33)(1,"p"),e._uU(2),e.qZA()()),2&u){const s=e.oxw();e.xp6(2),e.Oqu(s.util.translate("No Data Found.."))}}function p(u,b){if(1&u&&(e.TgZ(0,"thead")(1,"tr")(2,"th"),e._uU(3),e.qZA(),e.TgZ(4,"th"),e._uU(5),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.qZA(),e.TgZ(8,"th"),e._uU(9),e.qZA()()()),2&u){const s=e.oxw();e.xp6(3),e.Oqu(s.util.translate("Name")),e.xp6(2),e.Oqu(s.util.translate("Mobile")),e.xp6(2),e.Oqu(s.util.translate("Email")),e.xp6(2),e.Oqu(s.util.translate("Action"))}}function m(u,b){1&u&&(e.TgZ(0,"td"),e._UZ(1,"ngx-skeleton-loader",34),e.qZA())}const _=function(){return[1,2,3,4,5]};function w(u,b){1&u&&(e.TgZ(0,"tr"),e.YNc(1,m,2,0,"td",14),e.qZA()),2&u&&(e.xp6(1),e.Q6J("ngForOf",e.DdM(1,_)))}function O(u,b){if(1&u){const s=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"c-badge",35),e.NdJ("click",function(){const h=e.CHM(s).$implicit,c=e.oxw();return e.KtG(c.statusUpdate(h))}),e._uU(9),e.qZA(),e.TgZ(10,"c-badge",36),e.NdJ("click",function(){const h=e.CHM(s).$implicit,c=e.oxw();return e.KtG(c.deleteItem(h))}),e._uU(11),e.qZA()()()}if(2&u){const s=b.$implicit,o=e.oxw();e.xp6(2),e.AsE("",s.first_name," ",s.last_name,""),e.xp6(2),e.Oqu(s.country_code+" "+s.mobile),e.xp6(2),e.Oqu(s.email),e.xp6(2),e.Tol(1==s.status?"me-1 badge bg-success":"me-1 badge bg-dark"),e.Q6J("color",1==s.status?"success":"dark"),e.xp6(1),e.hij(" ",o.util.translate(1==s.status?"Active":"Deactived")," "),e.xp6(2),e.hij(" ",o.util.translate("Delete")," ")}}function E(u,b){if(1&u){const s=e.EpF();e.TgZ(0,"div")(1,"pagination-controls",37),e.NdJ("pageChange",function(i){e.CHM(s);const h=e.oxw();return e.KtG(h.page=i)}),e.qZA()()}}const Z=function(u){return{id:"pagin1",itemsPerPage:10,currentPage:u}},x=function(){return{standalone:!0}},F=[{path:"",component:(()=>{class u{constructor(s,o){this.api=s,this.util=o,this.dummy=Array(10),this.dummyUsers=[],this.users=[],this.page=1,this.first_name="",this.last_name="",this.email="",this.password="",this.mobile="",this.country_code="",this.resetChanges=()=>{this.users=this.dummyUsers},this.getAllUsers()}ngOnInit(){}getAllUsers(){this.api.get_private("v1/administrator/getAll").then(s=>{this.dummy=[],s&&s.status&&200==s.status&&s.success&&(console.log(">>>>>",s),s&&s.data.length>0&&(this.users=s.data,this.dummyUsers=s.data,console.log("===",this.users)))},s=>{this.dummy=[],console.log("Error",s),this.util.apiErrorHandler(s)}).catch(s=>{this.dummy=[],console.log("Err",s),this.util.apiErrorHandler(s)})}search(s){this.resetChanges(),console.log("string",s),this.users=this.filterItems(s)}filterItems(s){return this.users.filter(o=>(o.first_name+" "+o.last_name).toLowerCase().indexOf(s.toLowerCase())>-1)}setFilteredItems(){console.log("clear"),this.users=[],this.users=this.dummyUsers}statusUpdate(s){console.log(s);const o=1==s.status?"Deactive":"Active";A().fire({title:this.util.translate("Are you sure?"),text:this.util.translate("To")+" "+this.util.translate(o)+" "+this.util.translate("this user!"),icon:"question",showConfirmButton:!0,confirmButtonText:this.util.translate("Yes"),showCancelButton:!0,cancelButtonText:this.util.translate("Cancel"),backdrop:!1,background:"white"}).then(i=>{i&&i.value&&(console.log("update it"),s.status=1==s.status?0:1,this.util.show(),this.api.post_private("v1/administrator/update",s).then(c=>{this.util.hide(),this.util.success(this.util.translate("Updated"))},c=>{this.util.hide(),console.log("Error",c),this.util.apiErrorHandler(c)}).catch(c=>{this.util.hide(),console.log("Err",c),this.util.apiErrorHandler(c)}))})}deleteItem(s){console.log(s),A().fire({title:this.util.translate("Are you sure?"),text:this.util.translate("To Delete this user!"),icon:"question",showConfirmButton:!0,confirmButtonText:this.util.translate("Yes"),showCancelButton:!0,cancelButtonText:this.util.translate("Cancel"),backdrop:!1,background:"white"}).then(o=>{o&&o.value&&(console.log("update it"),this.util.show(),this.api.post_private("v1/administrator/deleteAdministrator",s).then(i=>{this.util.hide(),this.util.success(this.util.translate("Deleted")),this.getAllUsers()},i=>{this.util.hide(),console.log("Error",i),this.util.apiErrorHandler(i)}).catch(i=>{this.util.hide(),console.log("Err",i),this.util.apiErrorHandler(i)}))})}addNew(){this.myModal2.show()}saveChanges(){if(""==this.first_name||""==this.last_name||null==this.first_name||null==this.last_name||""==this.email||null==this.email||""==this.password||null==this.password||""==this.country_code||null==this.country_code||""==this.mobile||null==this.mobile)return this.util.error(this.util.translate("All Fields are required")),!1;console.log(typeof this.country_code),this.country_code.toString().includes("+")||(this.country_code="+"+this.country_code);const o={first_name:this.first_name,last_name:this.last_name,email:this.email,password:this.password,country_code:this.country_code,mobile:this.mobile};this.util.show(),this.api.post_private("v1/administrator/adminNewAdmin",o).then(i=>{if(this.util.hide(),console.log(i),500==i.status&&this.util.error(i.message),i&&i.status&&200==i.status&&i.user&&i.user.id)this.util.success(this.util.translate("Account created successfully")),console.log(i),this.myModal2.hide(),this.getAllUsers();else if(i&&i.error&&i.error.msg)this.util.error(i.error.msg);else if(i&&i.error&&"Validation Error."==i.error.message)for(let h in i.error[0])console.log(i.error[0][h][0]),this.util.error(i.error[0][h][0]);else this.util.error(this.util.translate("Something went wrong"))},i=>{if(console.log(i),this.util.hide(),i&&i.error&&500==i.error.status&&i.error.message)this.util.error(i.error.message);else if(i&&i.error&&i.error.error&&422==i.error.status)for(let h in i.error.error)console.log(i.error.error[h][0]),this.util.error(i.error.error[h][0]);else this.util.error(this.util.translate("Something went wrong"))}).catch(i=>{if(console.log(i),this.util.hide(),i&&i.error&&500==i.error.status&&i.error.message)this.util.error(i.error.message);else if(i&&i.error&&i.error.error&&422==i.error.status)for(let h in i.error.error)console.log(i.error.error[h][0]),this.util.error(i.error.error[h][0]);else this.util.error(this.util.translate("Something went wrong"))})}}return u.\u0275fac=function(s){return new(s||u)(e.Y36(k.s),e.Y36(R.f))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-administrator"]],viewQuery:function(s,o){if(1&s&&(e.Gf(l,5),e.Gf(n,5)),2&s){let i;e.iGM(i=e.CRH())&&(o.myModal2=i.first),e.iGM(i=e.CRH())&&(o.myModal3=i.first)}},decls:70,vars:46,consts:[["type","ball-scale-multiple"],[1,"animated","fadeIn"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"card-header-actions"],["type","submit",1,"btn","btn-sm","btn-primary",2,"float","right","margin","0px 5px",3,"click"],[1,"card-body"],[1,"row","flex_row"],["type","text","id","name",1,"form-control","form-control-lg",3,"placeholder","input"],["style","text-align: center;",4,"ngIf"],[1,"table","table-striped"],[4,"ngIf"],[4,"ngFor","ngForOf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["myModal2","bs-modal"],["role","document",1,"modal-dialog","modal-danger","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","long_content"],[1,"col-sm-6"],[1,"form-group"],["type","text",1,"form-control",3,"ngModelOptions","ngModel","placeholder","ngModelChange"],["type","email",1,"form-control",3,"ngModelOptions","ngModel","placeholder","ngModelChange"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[2,"text-align","center"],["count","1","appearance","line"],[3,"color","click"],["color","danger",1,"me-1","badge","bg-danger",3,"click"],["id","pagin1",3,"pageChange"]],template:function(s,o){if(1&s){const i=e.EpF();e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return o.addNew()}),e._uU(9),e.qZA(),e._uU(10," \xa0 "),e.qZA()(),e.TgZ(11,"div",8)(12,"div",9)(13,"div",3)(14,"input",10),e.NdJ("input",function(c){return o.search(c.target.value)}),e.qZA()()(),e.YNc(15,g,3,1,"div",11),e.TgZ(16,"table",12),e.YNc(17,p,10,4,"thead",13),e.TgZ(18,"tbody"),e.YNc(19,w,2,2,"tr",14),e.YNc(20,O,12,9,"tr",14),e.ALo(21,"paginate"),e.qZA()(),e.YNc(22,E,2,0,"div",13),e.qZA()()()()(),e.TgZ(23,"div",15,16)(25,"div",17)(26,"div",18)(27,"div",19)(28,"h5",20),e._uU(29),e.qZA(),e.TgZ(30,"button",21),e.NdJ("click",function(){e.CHM(i);const c=e.MAs(24);return e.KtG(c.hide())}),e.TgZ(31,"span",22),e._uU(32,"\xd7"),e.qZA()()(),e.TgZ(33,"div",23)(34,"div",2)(35,"div",24)(36,"div",25)(37,"label"),e._uU(38),e.qZA(),e.TgZ(39,"input",26),e.NdJ("ngModelChange",function(c){return o.first_name=c}),e.qZA()()(),e.TgZ(40,"div",24)(41,"div",25)(42,"label"),e._uU(43),e.qZA(),e.TgZ(44,"input",26),e.NdJ("ngModelChange",function(c){return o.last_name=c}),e.qZA()()(),e.TgZ(45,"div",24)(46,"div",25)(47,"label"),e._uU(48),e.qZA(),e.TgZ(49,"input",27),e.NdJ("ngModelChange",function(c){return o.email=c}),e.qZA()()(),e.TgZ(50,"div",24)(51,"div",25)(52,"label"),e._uU(53),e.qZA(),e.TgZ(54,"input",26),e.NdJ("ngModelChange",function(c){return o.password=c}),e.qZA()()(),e.TgZ(55,"div",28)(56,"div",25)(57,"label"),e._uU(58),e.qZA(),e.TgZ(59,"input",26),e.NdJ("ngModelChange",function(c){return o.country_code=c}),e.qZA()()(),e.TgZ(60,"div",29)(61,"div",25)(62,"label"),e._uU(63),e.qZA(),e.TgZ(64,"input",26),e.NdJ("ngModelChange",function(c){return o.mobile=c}),e.qZA()()()()(),e.TgZ(65,"div",30)(66,"button",31),e.NdJ("click",function(){e.CHM(i);const c=e.MAs(24);return e.KtG(c.hide())}),e._uU(67),e.qZA(),e.TgZ(68,"button",32),e.NdJ("click",function(){return o.saveChanges()}),e._uU(69),e.qZA()()()()()}2&s&&(e.xp6(6),e.hij(" ",o.util.translate("All Administrator")," "),e.xp6(3),e.hij(" ",o.util.translate("Add New")," "),e.xp6(5),e.Q6J("placeholder",o.util.translate("Search administrator")),e.xp6(1),e.Q6J("ngIf",!(null!=o.users&&o.users.length)&&0==o.dummy.length),e.xp6(2),e.Q6J("ngIf",null==o.users?null:o.users.length),e.xp6(2),e.Q6J("ngForOf",o.dummy),e.xp6(1),e.Q6J("ngForOf",e.xi3(21,35,o.users,e.VKq(38,Z,o.page))),e.xp6(2),e.Q6J("ngIf",(null==o.users?null:o.users.length)>0),e.xp6(7),e.hij("",o.util.translate("Create New Admin")," "),e.xp6(9),e.Oqu(o.util.translate("First Name")),e.xp6(1),e.Q6J("ngModelOptions",e.DdM(40,x))("ngModel",o.first_name)("placeholder",o.util.translate("First Name")),e.xp6(4),e.Oqu(o.util.translate("Last Name")),e.xp6(1),e.Q6J("ngModelOptions",e.DdM(41,x))("ngModel",o.last_name)("placeholder",o.util.translate("Last Name")),e.xp6(4),e.Oqu(o.util.translate("Email")),e.xp6(1),e.Q6J("ngModelOptions",e.DdM(42,x))("ngModel",o.email)("placeholder",o.util.translate("Email")),e.xp6(4),e.Oqu(o.util.translate("Password")),e.xp6(1),e.Q6J("ngModelOptions",e.DdM(43,x))("ngModel",o.password)("placeholder",o.util.translate("Password")),e.xp6(4),e.Oqu(o.util.translate("Country Code")),e.xp6(1),e.Q6J("ngModelOptions",e.DdM(44,x))("ngModel",o.country_code)("placeholder",o.util.translate("Country Code")),e.xp6(4),e.Oqu(o.util.translate("Mobile")),e.xp6(1),e.Q6J("ngModelOptions",e.DdM(45,x))("ngModel",o.mobile)("placeholder",o.util.translate("Mobile")),e.xp6(3),e.Oqu(o.util.translate("Close")),e.xp6(2),e.hij(" ",o.util.translate("Save Changes"),""))},dependencies:[a.sg,a.O5,D.oB,T.Fj,T.JJ,T.On,d.Ro,v.LS,t.xr,r.FN3,v._s],styles:['@charset "UTF-8";']}),u})()}];let I=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[C.Bz.forChild(F),C.Bz]}),u})();var N=f(9241),H=f(835);let U=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[a.ez,I,D.zk.forRoot(),T.u5,d.ef,v.JX,t.hx.forRoot({animation:"progress-dark"}),N.P4.forRoot(),H.Fq.forRoot(),r.TXv]}),u})()},835:(B,y,f)=>{f.d(y,{Fq:()=>T});var a=f(1571),C=f(433);const M={provide:C.JU,useExisting:(0,a.Gpc)(()=>A),multi:!0};let A=(()=>{class d{constructor(){this.btnCheckboxTrue=!0,this.btnCheckboxFalse=!1,this.state=!1,this.isDisabled=!1,this.onChange=Function.prototype,this.onTouched=Function.prototype}onClick(){this.isDisabled||(this.toggle(!this.state),this.onChange(this.value))}ngOnInit(){this.toggle(this.trueValue===this.value)}get trueValue(){return!(typeof this.btnCheckboxTrue<"u")||this.btnCheckboxTrue}get falseValue(){return typeof this.btnCheckboxFalse<"u"&&this.btnCheckboxFalse}toggle(t){this.state=t,this.value=this.state?this.trueValue:this.falseValue}writeValue(t){this.state=this.trueValue===t,this.value=t?this.trueValue:this.falseValue}setDisabledState(t){this.isDisabled=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}}return d.\u0275fac=function(t){return new(t||d)},d.\u0275dir=a.lG2({type:d,selectors:[["","btnCheckbox",""]],hostVars:3,hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r.onClick()}),2&t&&(a.uIk("aria-pressed",r.state),a.ekj("active",r.state))},inputs:{btnCheckboxTrue:"btnCheckboxTrue",btnCheckboxFalse:"btnCheckboxFalse"},features:[a._Bn([M])]}),d})();const e={provide:C.JU,useExisting:(0,a.Gpc)(()=>k),multi:!0};let k=(()=>{class d{constructor(t,r,l,n){this.el=t,this.cdr=r,this.renderer=l,this.group=n,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.uncheckable=!1,this.role="radio",this._disabled=!1,this._hasFocus=!1}get value(){return this.group?this.group.value:this._value}set value(t){this.group?this.group.value=t:(this._value=t,this._onChange(t))}get disabled(){return this._disabled}set disabled(t){this.setDisabledState(t)}get controlOrGroupDisabled(){return!!(this.disabled||this.group&&this.group.disabled)||void 0}get hasDisabledClass(){return this.controlOrGroupDisabled&&!this.isActive}get isActive(){return this.btnRadio===this.value}get tabindex(){if(!this.controlOrGroupDisabled)return this.isActive||null==this.group?0:-1}get hasFocus(){return this._hasFocus}toggleIfAllowed(){!this.canToggle()||(this.value=this.uncheckable&&this.btnRadio===this.value?void 0:this.btnRadio)}onSpacePressed(t){this.toggleIfAllowed(),t.preventDefault()}focus(){this.el.nativeElement.focus()}onFocus(){this._hasFocus=!0}onBlur(){this._hasFocus=!1,this.onTouched()}canToggle(){return!this.controlOrGroupDisabled&&(this.uncheckable||this.btnRadio!==this.value)}ngOnChanges(t){"uncheckable"in t&&(this.uncheckable=!1!==this.uncheckable&&typeof this.uncheckable<"u")}_onChange(t){this.group?this.group.value=t:(this.onTouched(),this.onChange(t))}writeValue(t){this.value=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._disabled=t,t?this.renderer.setAttribute(this.el.nativeElement,"disabled","disabled"):this.renderer.removeAttribute(this.el.nativeElement,"disabled")}}return d.\u0275fac=function(t){return new(t||d)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.Qsj),a.Y36((0,a.Gpc)(()=>D),8))},d.\u0275dir=a.lG2({type:d,selectors:[["","btnRadio",""]],hostVars:8,hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r.toggleIfAllowed()})("keydown.space",function(n){return r.onSpacePressed(n)})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()}),2&t&&(a.uIk("aria-disabled",r.controlOrGroupDisabled)("aria-checked",r.isActive)("role",r.role)("tabindex",r.tabindex),a.ekj("disabled",r.hasDisabledClass)("active",r.isActive))},inputs:{btnRadio:"btnRadio",uncheckable:"uncheckable",value:"value",disabled:"disabled"},features:[a._Bn([e]),a.TTD]}),d})();const R={provide:C.JU,useExisting:(0,a.Gpc)(()=>D),multi:!0};let D=(()=>{class d{constructor(t){this.cdr=t,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.role="radiogroup",this._disabled=!1}get value(){return this._value}set value(t){this._value=t,this.onChange(t)}get disabled(){return this._disabled}get tabindex(){return this._disabled?null:0}writeValue(t){this._value=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.radioButtons&&(this._disabled=t,this.radioButtons.forEach(r=>{r.setDisabledState(t)}),this.cdr.markForCheck())}onFocus(){if(this._disabled)return;const t=this.getActiveOrFocusedRadio();if(t)t.focus();else if(this.radioButtons){const r=this.radioButtons.find(l=>!l.disabled);r&&r.focus()}}onBlur(){this.onTouched&&this.onTouched()}selectNext(t){this.selectInDirection("next"),t.preventDefault()}selectPrevious(t){this.selectInDirection("previous"),t.preventDefault()}selectInDirection(t){if(this._disabled)return;function r(n,g){let m=(n+("next"===t?1:-1))%g.length;return m<0&&(m=g.length-1),m}const l=this.getActiveOrFocusedRadio();if(l&&this.radioButtons){const n=this.radioButtons.toArray(),g=n.indexOf(l);for(let p=r(g,n);p!==g;p=r(p,n))if(n[p].canToggle()){n[p].toggleIfAllowed(),n[p].focus();break}}}getActiveOrFocusedRadio(){if(this.radioButtons)return this.radioButtons.find(t=>t.isActive)||this.radioButtons.find(t=>t.hasFocus)}}return d.\u0275fac=function(t){return new(t||d)(a.Y36(a.sBO))},d.\u0275dir=a.lG2({type:d,selectors:[["","btnRadioGroup",""]],contentQueries:function(t,r,l){if(1&t&&a.Suo(l,k,4),2&t){let n;a.iGM(n=a.CRH())&&(r.radioButtons=n)}},hostVars:2,hostBindings:function(t,r){1&t&&a.NdJ("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("keydown.ArrowRight",function(n){return r.selectNext(n)})("keydown.ArrowDown",function(n){return r.selectNext(n)})("keydown.ArrowLeft",function(n){return r.selectPrevious(n)})("keydown.ArrowUp",function(n){return r.selectPrevious(n)}),2&t&&a.uIk("role",r.role)("tabindex",r.tabindex)},features:[a._Bn([R])]}),d})(),T=(()=>{class d{static forRoot(){return{ngModule:d,providers:[]}}}return d.\u0275fac=function(t){return new(t||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({}),d})()},9241:(B,y,f)=>{f.d(y,{P4:()=>t});var a=f(1571),C=f(6895);let t=(()=>{class r{static forRoot(){return{ngModule:r,providers:[]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[C.ez]}),r})()}}]);