"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[546],{546:(E,y,p)=>{p.r(y),p.d(y,{DriverStatsModule:()=>K});var a=p(6895),C=p(7136),b=p(5439),t=p(1571),Z=p(7241),S=p(5830),T=p(433),D=p(8423);let w=(()=>{class n{constructor(){this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(e){for(let i in e)e.hasOwnProperty(i)&&this._printStyle.push((i+JSON.stringify(e[i])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(e){let i=function(d){return`<link rel="stylesheet" type="text/css" href="${d}">`};if(-1!==e.indexOf(",")){const d=e.split(",");for(let f of d)this._styleSheetFile=this._styleSheetFile+i(f)}else this._styleSheetFile=i(e)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(e){const i=[],d=document.getElementsByTagName(e);for(let f=0;f<d.length;f++)i.push(d[f].outerHTML);return i.join("\r\n")}getFormData(e){for(var i=0;i<e.length;i++)e[i].defaultValue=e[i].value,e[i].checked&&(e[i].defaultChecked=!0)}getHtmlContents(){let e=document.getElementById(this.printSectionId),i=e.getElementsByTagName("input");this.getFormData(i);let d=e.getElementsByTagName("textarea");return this.getFormData(d),e.innerHTML}print(){let e,i,d="",f="";const _=this.getElementTag("base");this.useExistingCss&&(d=this.getElementTag("style"),f=this.getElementTag("link")),e=this.getHtmlContents(),i=window.open("","_blank","top=0,left=0,height=auto,width=auto"),i.document.open(),i.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${_}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${d}\n          ${f}\n        </head>\n        <body>\n          ${e}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),i.document.close()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,selectors:[["button","ngxPrint",""]],hostBindings:function(e,i){1&e&&t.NdJ("click",function(){return i.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),n})(),u=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();function m(n,c){if(1&n&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE("",e.first_name," ",e.last_name," ")}}function s(n,c){if(1&n&&(t.TgZ(0,"button",20),t._UZ(1,"i",21),t._uU(2),t.qZA()),2&n){const e=t.oxw();t.Q6J("useExistingCss",!0)("printTitle",e.getName()),t.xp6(2),t.Oqu(e.util.translate("Print"))}}function o(n,c){if(1&n&&(t.TgZ(0,"h2",22),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.util.translate("No Orders Found"),"\n")}}function l(n,c){1&n&&(t.TgZ(0,"span"),t._uU(1,","),t.qZA())}function r(n,c){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,l,2,0,"span",40),t.qZA()),2&n){const e=c.$implicit,i=c.index,d=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngIf",d.orders.length-1!==i)}}function h(n,c){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.AsE("",i.util.appSettings.currencySymbol," ",e.total,"")}}function g(n,c){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.AsE("",e.total," ",i.util.appSettings.currencySymbol,"")}}function v(n,c){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.AsE("",i.util.appSettings.currencySymbol," ",e.discount,"")}}function x(n,c){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.AsE("",e.discount," ",i.util.appSettings.currencySymbol,"")}}function A(n,c){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.AsE("",i.util.appSettings.currencySymbol," ",e.grand_total,"")}}function I(n,c){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.AsE("",e.grand_total," ",i.util.appSettings.currencySymbol,"")}}function F(n,c){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.AsE("",i.util.appSettings.currencySymbol," ",i.getCommisions(e.total),"")}}function R(n,c){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.AsE("",i.getCommisions(e.total)," ",i.util.appSettings.currencySymbol,"")}}function B(n,c){if(1&n&&(t.TgZ(0,"tr",42)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div",43),t.YNc(7,r,3,2,"span",44),t.qZA()(),t.TgZ(8,"td"),t.YNc(9,h,2,2,"span",40),t.YNc(10,g,2,2,"span",40),t.qZA(),t.TgZ(11,"td"),t.YNc(12,v,2,2,"span",40),t.YNc(13,x,2,2,"span",40),t.qZA(),t.TgZ(14,"td"),t.YNc(15,A,2,2,"span",40),t.YNc(16,I,2,2,"span",40),t.qZA(),t.TgZ(17,"td"),t.YNc(18,F,2,2,"span",40),t.YNc(19,R,2,2,"span",40),t.qZA()()),2&n){const e=c.$implicit,i=t.oxw(2);t.xp6(2),t.hij("##",e.id,""),t.xp6(2),t.Oqu(e.date_time),t.xp6(3),t.Q6J("ngForOf",e.orders),t.xp6(2),t.Q6J("ngIf","left"==i.util.appSettings.currencySide),t.xp6(1),t.Q6J("ngIf","right"==i.util.appSettings.currencySide),t.xp6(2),t.Q6J("ngIf","left"==i.util.appSettings.currencySide),t.xp6(1),t.Q6J("ngIf","right"==i.util.appSettings.currencySide),t.xp6(2),t.Q6J("ngIf","left"==i.util.appSettings.currencySide),t.xp6(1),t.Q6J("ngIf","right"==i.util.appSettings.currencySide),t.xp6(2),t.Q6J("ngIf","left"==i.util.appSettings.currencySide),t.xp6(1),t.Q6J("ngIf","right"==i.util.appSettings.currencySide)}}function O(n,c){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE("",e.util.appSettings.currencySymbol," ",e.totalAmount,"")}}function N(n,c){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE("",e.totalAmount," ",e.util.appSettings.currencySymbol,"")}}function U(n,c){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE("",e.util.appSettings.currencySymbol," ",e.commisionAmount,"")}}function q(n,c){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE("",e.commisionAmount," ",e.util.appSettings.currencySymbol,"")}}function J(n,c){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE("",e.util.appSettings.currencySymbol," ",e.toPay,"")}}function j(n,c){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE("",e.toPay," ",e.util.appSettings.currencySymbol,"")}}function H(n,c){if(1&n&&(t.TgZ(0,"div",23)(1,"div",24)(2,"div",25)(3,"h3",26),t._uU(4),t.qZA(),t.TgZ(5,"p",27),t._uU(6),t.qZA(),t.TgZ(7,"p",28),t._uU(8),t.qZA(),t.TgZ(9,"p",29),t._uU(10),t.qZA(),t.TgZ(11,"p",29),t._uU(12),t.qZA(),t.TgZ(13,"p",29),t._uU(14),t.qZA(),t.TgZ(15,"p",30),t._uU(16),t.qZA(),t.TgZ(17,"p",31),t._uU(18),t.qZA(),t.TgZ(19,"div",32)(20,"table",33)(21,"thead")(22,"tr",34)(23,"th"),t._uU(24),t.qZA(),t.TgZ(25,"th"),t._uU(26),t.qZA(),t.TgZ(27,"th"),t._uU(28),t.qZA(),t.TgZ(29,"th"),t._uU(30),t.qZA(),t.TgZ(31,"th"),t._uU(32),t.qZA(),t.TgZ(33,"th"),t._uU(34),t.qZA(),t.TgZ(35,"th"),t._uU(36),t.qZA()()(),t.TgZ(37,"tbody"),t.YNc(38,B,20,11,"tr",35),t.qZA()()(),t.TgZ(39,"div",36),t._UZ(40,"div",12),t.TgZ(41,"div",37)(42,"p",28),t._uU(43),t.qZA(),t.TgZ(44,"p",28),t._uU(45),t.qZA(),t.TgZ(46,"p",28),t._uU(47),t.qZA()(),t.TgZ(48,"div",38)(49,"p",39),t.YNc(50,O,2,2,"span",40),t.YNc(51,N,2,2,"span",40),t.qZA(),t.TgZ(52,"p",39),t.YNc(53,U,2,2,"span",40),t.YNc(54,q,2,2,"span",40),t.qZA(),t.TgZ(55,"p",39),t.YNc(56,J,2,2,"span",40),t.YNc(57,j,2,2,"span",40),t.qZA()()(),t.TgZ(58,"div")(59,"p")(60,"span",41),t._uU(61),t.qZA(),t._uU(62),t.qZA()()()()()),2&n){const e=t.oxw();t.xp6(4),t.hij("",e.util.generalSettings.name," "),t.xp6(2),t.lnq("",e.getDate(e.from)," ",e.util.translate("to")," ",e.getDate(e.to),""),t.xp6(2),t.hij(" ",e.util.generalSettings.name,""),t.xp6(2),t.xDo(" ",e.util.generalSettings.address,", ",e.util.generalSettings.city," , ",e.util.generalSettings.state,", ",e.util.generalSettings.country,", ",e.util.generalSettings.zip," "),t.xp6(2),t.hij(" ",e.util.generalSettings.email," "),t.xp6(2),t.hij(" ",e.util.generalSettings.mobile," "),t.xp6(2),t.Oqu(e.storename),t.xp6(2),t.Oqu(e.today()),t.xp6(6),t.Oqu(e.util.translate("Id")),t.xp6(2),t.Oqu(e.util.translate("Ordered on")),t.xp6(2),t.Oqu(e.util.translate("Items")),t.xp6(2),t.Oqu(e.util.translate("Total")),t.xp6(2),t.Oqu(e.util.translate("Discount")),t.xp6(2),t.Oqu(e.util.translate("Grand Total")),t.xp6(2),t.Oqu(e.util.translate("Commission")),t.xp6(2),t.Q6J("ngForOf",e.orders),t.xp6(5),t.hij(" ",e.util.translate("Total"),""),t.xp6(2),t.hij(" ",e.util.translate("Commission")," "),t.xp6(2),t.hij(" ",e.util.translate("Amount Pay")," "),t.xp6(3),t.Q6J("ngIf","left"==e.util.appSettings.currencySide),t.xp6(1),t.Q6J("ngIf","right"==e.util.appSettings.currencySide),t.xp6(2),t.Q6J("ngIf","left"==e.util.appSettings.currencySide),t.xp6(1),t.Q6J("ngIf","right"==e.util.appSettings.currencySide),t.xp6(2),t.Q6J("ngIf","left"==e.util.appSettings.currencySide),t.xp6(1),t.Q6J("ngIf","right"==e.util.appSettings.currencySide),t.xp6(4),t.hij("",e.util.translate("Note :")," "),t.xp6(1),t.hij(" ",e.util.translate("Commission formula.. ((total) * storecommission) / 100)")," ")}}const Y=[{path:"",component:(()=>{class n{constructor(e,i){this.util=e,this.api=i,this.drivers=[],this.driverId="",this.from="",this.to="",this.orders=[],this.driverCommission=0,this.totalAmount=0,this.commisionAmount=0,this.toPay=0,this.apiCalled=!1,this.driverName="",this.getAll()}ngOnInit(){}getAll(){this.api.get_private("v1/drivers/getAll").then(e=>{console.log(e),e&&e.status&&200==e.status&&e.data&&(this.drivers=e.data)},e=>{console.log(e),this.util.apiErrorHandler(e)}).catch(e=>{console.log(e),this.util.apiErrorHandler(e)})}getStats(){if(console.log(this.driverId),console.log(this.from),console.log(this.to),null==this.from||""==this.from||null==this.to||""==this.to||null==this.driverId||""==this.driverId||""==this.driverCommission||null==this.driverCommission)return this.util.error("All Fields are required"),!1;const e={id:this.driverId,from:b(this.from).format("YYYY-MM-DD"),end:b(this.to).format("YYYY-MM-DD")};console.log(e),this.util.show(),this.apiCalled=!1,this.api.post_private("v1/orders/getDriverStatsAdmin",e).then(i=>{if(console.log(i),this.apiCalled=!0,this.util.hide(),i&&i.status&&200==i.status&&i.data){let d=0;i.data.forEach(_=>{(k=>{try{return JSON.parse(k),!0}catch{return!1}})(_.orders)&&(_.orders=JSON.parse(_.orders),_.date_time=b(_.date_time).format("dddd, MMMM Do YYYY"),console.log(_.total),d+=parseFloat(_.total))}),this.orders=i.data,console.log(this.orders),console.log(d),setTimeout(()=>{console.log(this.orders),console.log(d,this.driverCommission);const k=function _(M,W){return M/100*W}(d,parseFloat(this.driverCommission));console.log("commistion=====>>>>>",k.toFixed(2)),this.commisionAmount=k.toFixed(2),this.totalAmount=d,this.toPay=this.totalAmount-this.commisionAmount},1e3);const f=this.drivers.filter(_=>_.id==this.driverId);f&&f.length&&(this.driverName=f[0].first_name+" "+f[0].last_name)}},i=>{console.log(i),this.orders=[],this.util.hide(),this.apiCalled=!0,this.util.apiErrorHandler(i)}).catch(i=>{console.log(i),this.orders=[],this.util.hide(),this.apiCalled=!0,this.util.apiErrorHandler(i)})}today(){return b().format("ll")}getDate(e){return b(e).format("ll")}getCommisions(e){return(parseFloat(e)*this.driverCommission/100).toFixed(2)}getName(){return this.driverName+"_"+b(this.from).format("DDMMYYYY")+"_"+b(this.to).format("DDMMYYYY")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Z.f),t.Y36(S.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-driver-stats"]],decls:37,vars:17,consts:[["type","ball-scale-multiple"],[1,"animated","fadeIn"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-sm-12"],[1,"form-group"],["name","select",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","number",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"col-sm-6"],["type","date",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"row",2,"margin-top","20px"],[1,"btn","btn-danger","btn-round",3,"click"],["style","margin-left: 20px;","printSectionId","print-section","ngxPrint","","class","btn btn-primary",3,"useExistingCss","printTitle",4,"ngIf"],["style","text-align: center;",4,"ngIf"],["class","row","id","print-section",4,"ngIf"],[3,"value"],["printSectionId","print-section","ngxPrint","",1,"btn","btn-primary",2,"margin-left","20px",3,"useExistingCss","printTitle"],[1,"icofont","icofont-printer"],[2,"text-align","center"],["id","print-section",1,"row"],[1,"col-md-12"],[1,"card",2,"padding","20px"],[2,"text-align","center","color","#7ec6aa"],[2,"text-align","center","color","#ED7669"],[2,"text-align","right","font-weight","bold","margin","0px !important","color","#7EC6AA"],[2,"text-align","right","font-weight","bold","margin","0px !important"],[2,"text-align","left","font-weight","bold","margin","0px","color","#aaafad"],[2,"text-align","left","font-weight","bold","color","#7EC6AA"],[1,"table-responsive"],[1,"table"],[1,"text-uppercase",2,"color","#7ec6aa"],["style","background-color: #F5F8FA;",4,"ngFor","ngForOf"],[1,"row",2,"padding","20px"],[1,"col-sm-4"],[1,"col-sm-2"],[2,"color","black !important","margin","0px !important","text-align","right"],[4,"ngIf"],[2,"font-weight","bold"],[2,"background-color","#F5F8FA"],[2,"width","150px !important","white-space","pre-wrap"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t._UZ(0,"ngx-spinner",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",6)(8,"div",2)(9,"div",7)(10,"div",8)(11,"label"),t._uU(12),t.qZA(),t.TgZ(13,"select",9),t.NdJ("ngModelChange",function(f){return i.driverId=f}),t.YNc(14,m,2,3,"option",10),t.qZA()()(),t.TgZ(15,"div",7)(16,"div",8)(17,"label"),t._uU(18),t.qZA(),t.TgZ(19,"input",11),t.NdJ("ngModelChange",function(f){return i.driverCommission=f}),t.qZA()()(),t.TgZ(20,"div",12)(21,"div",8)(22,"label"),t._uU(23),t.qZA(),t.TgZ(24,"input",13),t.NdJ("ngModelChange",function(f){return i.from=f}),t.qZA()()(),t.TgZ(25,"div",12)(26,"div",8)(27,"label"),t._uU(28),t.qZA(),t.TgZ(29,"input",13),t.NdJ("ngModelChange",function(f){return i.to=f}),t.qZA()()()(),t.TgZ(30,"div",14)(31,"div",7)(32,"button",15),t.NdJ("click",function(){return i.getStats()}),t._uU(33),t.qZA(),t.YNc(34,s,3,3,"button",16),t.qZA()()()()()()(),t.YNc(35,o,2,1,"h2",17),t.YNc(36,H,63,33,"div",18)),2&e&&(t.xp6(6),t.hij(" ",i.util.translate("Driver Stats")," "),t.xp6(6),t.Oqu(i.util.translate("Please select driver")),t.xp6(1),t.Q6J("ngModel",i.driverId),t.xp6(1),t.Q6J("ngForOf",i.drivers),t.xp6(4),t.Oqu(i.util.translate("Enter Commission")),t.xp6(1),t.Q6J("ngModel",i.driverCommission)("placeholder",i.util.translate("Enter Commission")),t.xp6(4),t.hij("",i.util.translate("From Date")," "),t.xp6(1),t.Q6J("ngModel",i.from)("placeholder",i.util.translate("From Date")),t.xp6(4),t.hij("",i.util.translate("To Date")," "),t.xp6(1),t.Q6J("ngModel",i.to)("placeholder",i.util.translate("To Date")),t.xp6(4),t.hij(" ",i.util.translate("Get Stats"),""),t.xp6(1),t.Q6J("ngIf",i.driverId&&i.from&&i.to&&(null==i.orders?null:i.orders.length)&&1==i.apiCalled),t.xp6(1),t.Q6J("ngIf",i.driverId&&i.from&&i.to&&!(null!=i.orders&&i.orders.length)&&1==i.apiCalled),t.xp6(1),t.Q6J("ngIf",i.driverId&&i.from&&i.to&&(null==i.orders?null:i.orders.length)))},dependencies:[a.sg,a.O5,T.YN,T.Kr,T.Fj,T.wV,T.EJ,T.JJ,T.On,D.Ro,w],styles:['@charset "UTF-8";']}),n})()}];let P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[C.Bz.forChild(Y),C.Bz]}),n})();var V=p(4333),L=p(502),Q=p(388),$=p(9241),G=p(835),z=p(4980);let K=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[a.ez,P,Q.zk.forRoot(),T.u5,D.ef,V.JX,L.hx.forRoot({animation:"progress-dark"}),$.P4.forRoot(),G.Fq.forRoot(),z.TXv,u]}),n})()},835:(E,y,p)=>{p.d(y,{Fq:()=>w});var a=p(1571),C=p(433);const b={provide:C.JU,useExisting:(0,a.Gpc)(()=>t),multi:!0};let t=(()=>{class u{constructor(){this.btnCheckboxTrue=!0,this.btnCheckboxFalse=!1,this.state=!1,this.isDisabled=!1,this.onChange=Function.prototype,this.onTouched=Function.prototype}onClick(){this.isDisabled||(this.toggle(!this.state),this.onChange(this.value))}ngOnInit(){this.toggle(this.trueValue===this.value)}get trueValue(){return!(typeof this.btnCheckboxTrue<"u")||this.btnCheckboxTrue}get falseValue(){return typeof this.btnCheckboxFalse<"u"&&this.btnCheckboxFalse}toggle(s){this.state=s,this.value=this.state?this.trueValue:this.falseValue}writeValue(s){this.state=this.trueValue===s,this.value=s?this.trueValue:this.falseValue}setDisabledState(s){this.isDisabled=s}registerOnChange(s){this.onChange=s}registerOnTouched(s){this.onTouched=s}}return u.\u0275fac=function(s){return new(s||u)},u.\u0275dir=a.lG2({type:u,selectors:[["","btnCheckbox",""]],hostVars:3,hostBindings:function(s,o){1&s&&a.NdJ("click",function(){return o.onClick()}),2&s&&(a.uIk("aria-pressed",o.state),a.ekj("active",o.state))},inputs:{btnCheckboxTrue:"btnCheckboxTrue",btnCheckboxFalse:"btnCheckboxFalse"},features:[a._Bn([b])]}),u})();const Z={provide:C.JU,useExisting:(0,a.Gpc)(()=>S),multi:!0};let S=(()=>{class u{constructor(s,o,l,r){this.el=s,this.cdr=o,this.renderer=l,this.group=r,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.uncheckable=!1,this.role="radio",this._disabled=!1,this._hasFocus=!1}get value(){return this.group?this.group.value:this._value}set value(s){this.group?this.group.value=s:(this._value=s,this._onChange(s))}get disabled(){return this._disabled}set disabled(s){this.setDisabledState(s)}get controlOrGroupDisabled(){return!!(this.disabled||this.group&&this.group.disabled)||void 0}get hasDisabledClass(){return this.controlOrGroupDisabled&&!this.isActive}get isActive(){return this.btnRadio===this.value}get tabindex(){if(!this.controlOrGroupDisabled)return this.isActive||null==this.group?0:-1}get hasFocus(){return this._hasFocus}toggleIfAllowed(){!this.canToggle()||(this.value=this.uncheckable&&this.btnRadio===this.value?void 0:this.btnRadio)}onSpacePressed(s){this.toggleIfAllowed(),s.preventDefault()}focus(){this.el.nativeElement.focus()}onFocus(){this._hasFocus=!0}onBlur(){this._hasFocus=!1,this.onTouched()}canToggle(){return!this.controlOrGroupDisabled&&(this.uncheckable||this.btnRadio!==this.value)}ngOnChanges(s){"uncheckable"in s&&(this.uncheckable=!1!==this.uncheckable&&typeof this.uncheckable<"u")}_onChange(s){this.group?this.group.value=s:(this.onTouched(),this.onChange(s))}writeValue(s){this.value=s,this.cdr.markForCheck()}registerOnChange(s){this.onChange=s}registerOnTouched(s){this.onTouched=s}setDisabledState(s){this._disabled=s,s?this.renderer.setAttribute(this.el.nativeElement,"disabled","disabled"):this.renderer.removeAttribute(this.el.nativeElement,"disabled")}}return u.\u0275fac=function(s){return new(s||u)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.Qsj),a.Y36((0,a.Gpc)(()=>D),8))},u.\u0275dir=a.lG2({type:u,selectors:[["","btnRadio",""]],hostVars:8,hostBindings:function(s,o){1&s&&a.NdJ("click",function(){return o.toggleIfAllowed()})("keydown.space",function(r){return o.onSpacePressed(r)})("focus",function(){return o.onFocus()})("blur",function(){return o.onBlur()}),2&s&&(a.uIk("aria-disabled",o.controlOrGroupDisabled)("aria-checked",o.isActive)("role",o.role)("tabindex",o.tabindex),a.ekj("disabled",o.hasDisabledClass)("active",o.isActive))},inputs:{btnRadio:"btnRadio",uncheckable:"uncheckable",value:"value",disabled:"disabled"},features:[a._Bn([Z]),a.TTD]}),u})();const T={provide:C.JU,useExisting:(0,a.Gpc)(()=>D),multi:!0};let D=(()=>{class u{constructor(s){this.cdr=s,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.role="radiogroup",this._disabled=!1}get value(){return this._value}set value(s){this._value=s,this.onChange(s)}get disabled(){return this._disabled}get tabindex(){return this._disabled?null:0}writeValue(s){this._value=s,this.cdr.markForCheck()}registerOnChange(s){this.onChange=s}registerOnTouched(s){this.onTouched=s}setDisabledState(s){this.radioButtons&&(this._disabled=s,this.radioButtons.forEach(o=>{o.setDisabledState(s)}),this.cdr.markForCheck())}onFocus(){if(this._disabled)return;const s=this.getActiveOrFocusedRadio();if(s)s.focus();else if(this.radioButtons){const o=this.radioButtons.find(l=>!l.disabled);o&&o.focus()}}onBlur(){this.onTouched&&this.onTouched()}selectNext(s){this.selectInDirection("next"),s.preventDefault()}selectPrevious(s){this.selectInDirection("previous"),s.preventDefault()}selectInDirection(s){if(this._disabled)return;function o(r,h){let v=(r+("next"===s?1:-1))%h.length;return v<0&&(v=h.length-1),v}const l=this.getActiveOrFocusedRadio();if(l&&this.radioButtons){const r=this.radioButtons.toArray(),h=r.indexOf(l);for(let g=o(h,r);g!==h;g=o(g,r))if(r[g].canToggle()){r[g].toggleIfAllowed(),r[g].focus();break}}}getActiveOrFocusedRadio(){if(this.radioButtons)return this.radioButtons.find(s=>s.isActive)||this.radioButtons.find(s=>s.hasFocus)}}return u.\u0275fac=function(s){return new(s||u)(a.Y36(a.sBO))},u.\u0275dir=a.lG2({type:u,selectors:[["","btnRadioGroup",""]],contentQueries:function(s,o,l){if(1&s&&a.Suo(l,S,4),2&s){let r;a.iGM(r=a.CRH())&&(o.radioButtons=r)}},hostVars:2,hostBindings:function(s,o){1&s&&a.NdJ("focus",function(){return o.onFocus()})("blur",function(){return o.onBlur()})("keydown.ArrowRight",function(r){return o.selectNext(r)})("keydown.ArrowDown",function(r){return o.selectNext(r)})("keydown.ArrowLeft",function(r){return o.selectPrevious(r)})("keydown.ArrowUp",function(r){return o.selectPrevious(r)}),2&s&&a.uIk("role",o.role)("tabindex",o.tabindex)},features:[a._Bn([T])]}),u})(),w=(()=>{class u{static forRoot(){return{ngModule:u,providers:[]}}}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=a.oAB({type:u}),u.\u0275inj=a.cJS({}),u})()},9241:(E,y,p)=>{p.d(y,{P4:()=>s});var a=p(1571),C=p(6895);let s=(()=>{class o{static forRoot(){return{ngModule:o,providers:[]}}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=a.oAB({type:o}),o.\u0275inj=a.cJS({imports:[C.ez]}),o})()}}]);