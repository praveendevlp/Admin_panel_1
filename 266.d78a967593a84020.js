"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[266],{3266:(b,d,n)=>{n.r(d),n.d(d,{ReferralModule:()=>R});var p=n(6895),g=n(7136),e=n(1571),m=n(7241),f=n(5830),o=n(433),h=n(8423);function c(l,a){if(1&l){const i=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.create())}),e._uU(1),e.qZA()}if(2&l){const i=e.oxw();e.xp6(1),e.hij(" ",i.util.translate("Create Referral Program")," ")}}function v(l,a){if(1&l){const i=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.update())}),e._uU(1),e.qZA()}if(2&l){const i=e.oxw();e.xp6(1),e.hij(" ",i.util.translate("Update Referral Program")," ")}}const u=function(){return{standalone:!0}},_=[{path:"",component:(()=>{class l{constructor(i,t){this.util=i,this.api=t,this.submited=!1,this.amount="",this.limit="",this.title="",this.message="",this.who_received="",this.status="",this.referralId="",this.edit=!1,this.getReferral()}ngOnInit(){}getReferral(){this.util.show(),this.api.get_private("v1/referral/getAll").then(i=>{if(this.util.hide(),console.log(i),i&&i.status&&200==i.status&&i.data&&i.data.length){const t=i.data[0];console.log(t),this.edit=!0,this.referralId=t.id,this.title=t.title,this.message=t.message,this.amount=t.amount,this.limit=t.limit,this.who_received=t.who_received,this.status=t.status}},i=>{console.log(i),this.util.hide(),this.util.apiErrorHandler(i)}).catch(i=>{console.log(i),this.util.hide(),this.util.apiErrorHandler(i)})}create(){if(this.submited=!0,""==this.title||""==this.message||""==this.amount||""==this.limit||""==this.who_received||""==this.status)return this.util.error(this.util.translate("All Fields are required")),!1;const i={amount:this.amount,title:this.title,message:this.message,limit:this.limit,who_received:this.who_received,status:this.status};this.util.show(),this.api.post_private("v1/referral/save",i).then(t=>{console.log(t),this.util.hide(),t&&t.status&&200==t.status?(this.util.success(this.util.translate("Referral program created")),this.getReferral()):this.util.error(this.util.translate("Something went wrong while saving reffral"))},t=>{console.log(t),this.util.hide(),this.util.apiErrorHandler(t)}).catch(t=>{console.log(t),this.util.hide(),this.util.apiErrorHandler(t)})}update(){if(this.submited=!0,""==this.title||""==this.message||""==this.amount||""==this.limit||""==this.who_received||""==this.status)return this.util.error(this.util.translate("All Fields are required")),!1;const i={id:this.referralId,amount:this.amount,title:this.title,message:this.message,limit:this.limit,who_received:this.who_received,status:this.status};this.util.show(),this.api.post_private("v1/referral/update",i).then(t=>{console.log(t),this.util.hide(),t&&t.status&&200==t.status?(this.util.success(this.util.translate("Referral program updated")),this.getReferral()):this.util.error(this.util.translate("Something went wrong while saving reffral"))},t=>{console.log(t),this.util.hide(),this.util.apiErrorHandler(t)}).catch(t=>{console.log(t),this.util.hide(),this.util.apiErrorHandler(t)})}}return l.\u0275fac=function(i){return new(i||l)(e.Y36(m.f),e.Y36(f.s))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-referral"]],decls:67,vars:50,consts:[["type","ball-scale-multiple"],[1,"animated","fadeIn"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-header",2,"margin","10px 0px","border","none","text-transform","uppercase","font-weight","bold"],[1,"col-12"],[1,"help"],[1,"col-sm-12"],[1,"form-group"],[2,"color","red"],["type","text",1,"form-control",3,"ngModelOptions","ngModel","placeholder","ngModelChange"],["type","text","rows","5",1,"form-control",3,"ngModelOptions","ngModel","placeholder","ngModelChange"],[1,"col-sm-6"],["type","number",1,"form-control",3,"ngModelOptions","ngModel","placeholder","ngModelChange"],["id","select2","name","select2",1,"form-control","form-control",3,"ngModel","ngModelChange"],[3,"value"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn btn-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn","btn-primary",3,"click"]],template:function(i,t){1&i&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.qZA(),e.TgZ(8,"div",2)(9,"div",7)(10,"p",8),e._uU(11),e.qZA()()(),e.TgZ(12,"div",2)(13,"div",9)(14,"div",10)(15,"label"),e._uU(16),e.TgZ(17,"span",11),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"input",12),e.NdJ("ngModelChange",function(s){return t.title=s}),e.qZA()()(),e.TgZ(20,"div",9)(21,"div",10)(22,"label"),e._uU(23),e.TgZ(24,"span",11),e._uU(25,"*"),e.qZA()(),e.TgZ(26,"textarea",13),e.NdJ("ngModelChange",function(s){return t.message=s}),e.qZA()()(),e.TgZ(27,"div",14)(28,"div",10)(29,"label"),e._uU(30),e.TgZ(31,"span",11),e._uU(32,"*"),e.qZA()(),e.TgZ(33,"input",15),e.NdJ("ngModelChange",function(s){return t.amount=s}),e.qZA()()(),e.TgZ(34,"div",14)(35,"div",10)(36,"label"),e._uU(37),e.TgZ(38,"span",11),e._uU(39,"*"),e.qZA()(),e.TgZ(40,"input",15),e.NdJ("ngModelChange",function(s){return t.limit=s}),e.qZA()()(),e.TgZ(41,"div",14)(42,"div",10)(43,"label"),e._uU(44),e.TgZ(45,"span",11),e._uU(46,"*"),e.qZA()(),e.TgZ(47,"select",16),e.NdJ("ngModelChange",function(s){return t.who_received=s}),e.TgZ(48,"option",17),e._uU(49),e.qZA(),e.TgZ(50,"option",17),e._uU(51),e.qZA(),e.TgZ(52,"option",17),e._uU(53),e.qZA()()()(),e.TgZ(54,"div",14)(55,"div",10)(56,"label"),e._uU(57),e.TgZ(58,"span",11),e._uU(59,"*"),e.qZA()(),e.TgZ(60,"select",16),e.NdJ("ngModelChange",function(s){return t.status=s}),e.TgZ(61,"option",17),e._uU(62),e.qZA(),e.TgZ(63,"option",17),e._uU(64),e.qZA()()()()(),e.YNc(65,c,2,1,"button",18),e.YNc(66,v,2,1,"button",19),e.qZA()()()()()),2&i&&(e.xp6(7),e.hij(" ",t.util.translate("Referral Details")," : "),e.xp6(4),e.hij(" ",t.util.translate("This information will be used as referral system. in order to disable the referral system. please choose status to deactive.")," "),e.xp6(5),e.hij("",t.util.translate("Referral Title")," : "),e.xp6(3),e.Tol(t.submited&&""==t.title?"req":""),e.Q6J("ngModelOptions",e.DdM(46,u))("ngModel",t.title)("placeholder",t.util.translate("Referral Title")),e.xp6(4),e.hij("",t.util.translate("Referral Message")," : "),e.xp6(3),e.Tol(t.submited&&""==t.message?"req":""),e.Q6J("ngModelOptions",e.DdM(47,u))("ngModel",t.message)("placeholder",t.util.translate("Referral Message")),e.xp6(4),e.hij("",t.util.translate("Amount")," : "),e.xp6(3),e.Tol(t.submited&&""==t.amount?"req":""),e.Q6J("ngModelOptions",e.DdM(48,u))("ngModel",t.amount)("placeholder",t.util.translate("Amount")),e.xp6(4),e.hij("",t.util.translate("Limit")," : "),e.xp6(3),e.Tol(t.submited&&""==t.limit?"req":""),e.Q6J("ngModelOptions",e.DdM(49,u))("ngModel",t.limit)("placeholder",t.util.translate("Limit")),e.xp6(4),e.hij("",t.util.translate("Who Received")," : "),e.xp6(3),e.Tol(t.submited&&""==t.who_received?"req":""),e.Q6J("ngModel",t.who_received),e.xp6(1),e.Q6J("value",1),e.xp6(1),e.hij(" ",t.util.translate("Invitee")," "),e.xp6(1),e.Q6J("value",2),e.xp6(1),e.hij(" ",t.util.translate("Who Redeem")," "),e.xp6(1),e.Q6J("value",3),e.xp6(1),e.hij(" ",t.util.translate("Both Invitee & Who Redeem")," "),e.xp6(4),e.hij("",t.util.translate("Status")," : "),e.xp6(3),e.Tol(t.submited&&""==t.status?"req":""),e.Q6J("ngModel",t.status),e.xp6(1),e.Q6J("value",1),e.xp6(1),e.hij(" ",t.util.translate("Active")," "),e.xp6(1),e.Q6J("value",0),e.xp6(1),e.hij(" ",t.util.translate("Deactive")," "),e.xp6(1),e.Q6J("ngIf",!t.edit),e.xp6(1),e.Q6J("ngIf",t.edit))},dependencies:[p.O5,o.YN,o.Kr,o.Fj,o.wV,o.EJ,o.JJ,o.On,h.Ro],styles:['@charset "UTF-8";']}),l})()}];let M=(()=>{class l{}return l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[g.Bz.forChild(_),g.Bz]}),l})();var T=n(388),Z=n(502);let R=(()=>{class l{}return l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[p.ez,M,T.zk.forRoot(),o.u5,h.ef,h.ef,Z.hx.forRoot({animation:"progress-dark"})]}),l})()}}]);