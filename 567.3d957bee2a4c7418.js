"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[567],{6567:(A,x,d)=>{d.r(x),d.d(x,{ManageLanguagesModule:()=>E});var o=d(6895),C=d(7136),e=d(1571),k=d(5830),O=d(7241),m=d(433),M=d(8423);function R(u,T){if(1&u){const l=e.EpF();e.TgZ(0,"tr")(1,"td",21),e._uU(2),e.qZA(),e.TgZ(3,"td",21)(4,"input",22),e.NdJ("ngModelChange",function(s){const y=e.CHM(l).$implicit;return e.KtG(y.value=s)}),e.qZA()()()}if(2&u){const l=T.$implicit;e.xp6(2),e.Oqu(l.key),e.xp6(2),e.Q6J("ngModel",l.value)}}function w(u,T){if(1&u){const l=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(l);const s=e.oxw();return e.KtG(s.create())}),e._uU(1),e.qZA()}if(2&u){const l=e.oxw();e.xp6(1),e.hij(" ",l.util.translate("Add Language")," ")}}function c(u,T){if(1&u){const l=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(l);const s=e.oxw();return e.KtG(s.update())}),e._uU(1),e.qZA()}if(2&u){const l=e.oxw();e.xp6(1),e.hij(" ",l.util.translate("Update Language")," ")}}const b=function(){return{standalone:!0}},n=[{path:"",component:(()=>{class u{constructor(l,a,s,p,y){this.api=l,this.route=a,this.util=s,this.chMod=p,this.location=y,this.name="",this.status="active",this.coverImage="",this.position=0,this.languagesJSON=[],this.page=1,this.savedFiles=[],this.api.getLanguageJson().then(v=>{if(v){let D=Object.entries(v).map(([I,L])=>({key:I,value:L}));this.languagesJSON=D}console.log("====",this.languagesJSON)}).catch(v=>{console.log(v)}),this.route.queryParams.subscribe(v=>{console.log(v),v&&v.id?(this.id=v.id,this.edit=!0,this.getById()):this.edit=!1})}getById(){const l={id:this.id};this.util.show(),this.api.post_private("v1/languages/getById",l).then(a=>{if(this.util.hide(),console.log("response",a),a&&a.data){const s=a.data;if(this.name=s.name,this.id=s.id,this.coverImage=s.cover,this.position=s.positions,(p=>{try{return JSON.parse(p),!0}catch{return!1}})(s.file)){const p=JSON.parse(s.file),y=Object.entries(p).map(([v,D])=>({key:v,value:D}));for(let v=0;v<this.languagesJSON.length;v++)for(let D=0;D<y.length;D++)this.languagesJSON[v].key&&y[D].key&&this.languagesJSON[v].key==y[D].key&&(this.languagesJSON[v].value=y[D].value)}}},a=>{this.util.hide(),console.log("Error",a),this.util.apiErrorHandler(a)}).catch(a=>{this.util.hide(),console.log("Err",a),this.util.apiErrorHandler(a)})}ngOnInit(){}preview_banner(l){console.log("fle",l),0!=l.length&&null!=l[0].type.match(/image\/*/)&&(l?(console.log("ok"),this.util.show(),this.api.uploadFile(l).subscribe(s=>{console.log("==>>",s),this.util.hide(),s&&s.data.image_name&&(this.coverImage=s.data.image_name)},s=>{console.log(s),this.util.hide()})):console.log("no"))}create(){const l=this.languagesJSON.reduce(function(s,p){return s[p.key]=p.value,s},{});if(console.log(l),!this.name||""==this.name||""==this.coverImage||!this.coverImage)return!1;const a={cover:this.coverImage,status:1,name:this.name,positions:this.position,file:JSON.stringify(l)};console.log("ok",a),this.util.show(),this.api.post_private("v1/languages/save",a).then(s=>{this.util.hide(),console.log(s),this.util.success(this.util.translate("Language added !")),this.location.back()},s=>{this.util.hide(),console.log("Error",s),this.util.apiErrorHandler(s)}).catch(s=>{this.util.hide(),console.log("Err",s),this.util.apiErrorHandler(s)})}update(){const l=this.languagesJSON.reduce(function(s,p){return s[p.key]=p.value,s},{});if(console.log(l),!this.name||""==this.name||""==this.coverImage||!this.coverImage)return!1;const a={cover:this.coverImage,name:this.name,positions:this.position,file:JSON.stringify(l),id:this.id};console.log("ok",a),this.util.show(),this.api.post_private("v1/languages/update",a).then(s=>{this.util.hide(),console.log(s),this.util.success(this.util.translate("Language added !")),this.location.back()},s=>{this.util.hide(),console.log("Error",s),this.util.apiErrorHandler(s)}).catch(s=>{this.util.hide(),console.log("Err",s),this.util.apiErrorHandler(s)})}}return u.\u0275fac=function(l){return new(l||u)(e.Y36(k.s),e.Y36(C.gz),e.Y36(O.f),e.Y36(e.sBO),e.Y36(o.Ye))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-manage-languages"]],decls:40,vars:19,consts:[["type","ball-scale-multiple"],[1,"animated","fadeIn"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],["type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[2,"color","red"],[1,"form-control",3,"ngModelOptions","ngModel","ngModelChange"],[3,"value"],[1,"form-group","row"],[1,"col-lg-4","col-form-label"],[1,"col-lg-4"],["type","file","accept","image/*",1,"form-control","file_ip",3,"change"],["alt","","onError","this.src='assets/img/dummy.jpeg'",2,"height","100px","width","100px","float","right","object-fit","contain",3,"src"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn btn-primary",3,"click",4,"ngIf"],["width","50%"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn","btn-primary",3,"click"]],template:function(l,a){1&l&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.qZA(),e.TgZ(7,"div",6)(8,"div",7)(9,"label"),e._uU(10),e.qZA(),e.TgZ(11,"input",8),e.NdJ("ngModelChange",function(p){return a.name=p}),e.qZA()(),e.TgZ(12,"div",7)(13,"label"),e._uU(14),e.TgZ(15,"span",9),e._uU(16,"*"),e.qZA()(),e.TgZ(17,"select",10),e.NdJ("ngModelChange",function(p){return a.position=p}),e.TgZ(18,"option",11),e._uU(19),e.qZA(),e.TgZ(20,"option",11),e._uU(21),e.qZA()()(),e.TgZ(22,"div",12)(23,"label",13),e._uU(24),e.qZA(),e.TgZ(25,"div",14)(26,"input",15),e.NdJ("change",function(p){return a.preview_banner(p.target.files)}),e.qZA()(),e.TgZ(27,"div",14),e._UZ(28,"img",16),e.qZA()(),e.TgZ(29,"table",17)(30,"thead")(31,"tr")(32,"th"),e._uU(33),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,R,5,2,"tr",18),e.qZA()(),e.YNc(38,w,2,1,"button",19),e.YNc(39,c,2,1,"button",20),e.qZA()()()()()),2&l&&(e.xp6(6),e.hij(" ",a.util.translate("Manage Languages")," "),e.xp6(4),e.Oqu(a.util.translate("Language Name")),e.xp6(1),e.Q6J("ngModel",a.name)("placeholder",a.util.translate("Language Name")),e.xp6(3),e.hij("",a.util.translate("Language Direction")," "),e.xp6(3),e.Q6J("ngModelOptions",e.DdM(18,b))("ngModel",a.position),e.xp6(1),e.Q6J("value",0),e.xp6(1),e.hij("",a.util.translate("LTR")," "),e.xp6(1),e.Q6J("value",1),e.xp6(1),e.hij(" ",a.util.translate("RTL"),""),e.xp6(3),e.Oqu(a.util.translate("Image Upload")),e.xp6(4),e.Q6J("src",a.api.imageUrl+a.coverImage,e.LSH),e.xp6(5),e.Oqu(a.util.translate("Translation Key")),e.xp6(2),e.Oqu(a.util.translate("Translation Value")),e.xp6(2),e.Q6J("ngForOf",a.languagesJSON),e.xp6(1),e.Q6J("ngIf",!a.edit),e.xp6(1),e.Q6J("ngIf",a.edit))},dependencies:[o.sg,o.O5,m.YN,m.Kr,m.Fj,m.EJ,m.JJ,m.On,M.Ro],styles:['@charset "UTF-8";']}),u})()}];let r=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[C.Bz.forChild(n),C.Bz]}),u})();var i=d(4333),h=d(502),g=d(388),f=d(9241),_=d(835),B=d(4980);let E=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[o.ez,r,g.zk.forRoot(),m.u5,M.ef,i.JX,h.hx.forRoot({animation:"progress-dark"}),f.P4.forRoot(),_.Fq.forRoot(),B.TXv]}),u})()},835:(A,x,d)=>{d.d(x,{Fq:()=>w});var o=d(1571),C=d(433);const e={provide:C.JU,useExisting:(0,o.Gpc)(()=>k),multi:!0};let k=(()=>{class c{constructor(){this.btnCheckboxTrue=!0,this.btnCheckboxFalse=!1,this.state=!1,this.isDisabled=!1,this.onChange=Function.prototype,this.onTouched=Function.prototype}onClick(){this.isDisabled||(this.toggle(!this.state),this.onChange(this.value))}ngOnInit(){this.toggle(this.trueValue===this.value)}get trueValue(){return!(typeof this.btnCheckboxTrue<"u")||this.btnCheckboxTrue}get falseValue(){return typeof this.btnCheckboxFalse<"u"&&this.btnCheckboxFalse}toggle(t){this.state=t,this.value=this.state?this.trueValue:this.falseValue}writeValue(t){this.state=this.trueValue===t,this.value=t?this.trueValue:this.falseValue}setDisabledState(t){this.isDisabled=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275dir=o.lG2({type:c,selectors:[["","btnCheckbox",""]],hostVars:3,hostBindings:function(t,n){1&t&&o.NdJ("click",function(){return n.onClick()}),2&t&&(o.uIk("aria-pressed",n.state),o.ekj("active",n.state))},inputs:{btnCheckboxTrue:"btnCheckboxTrue",btnCheckboxFalse:"btnCheckboxFalse"},features:[o._Bn([e])]}),c})();const O={provide:C.JU,useExisting:(0,o.Gpc)(()=>m),multi:!0};let m=(()=>{class c{constructor(t,n,r,i){this.el=t,this.cdr=n,this.renderer=r,this.group=i,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.uncheckable=!1,this.role="radio",this._disabled=!1,this._hasFocus=!1}get value(){return this.group?this.group.value:this._value}set value(t){this.group?this.group.value=t:(this._value=t,this._onChange(t))}get disabled(){return this._disabled}set disabled(t){this.setDisabledState(t)}get controlOrGroupDisabled(){return!!(this.disabled||this.group&&this.group.disabled)||void 0}get hasDisabledClass(){return this.controlOrGroupDisabled&&!this.isActive}get isActive(){return this.btnRadio===this.value}get tabindex(){if(!this.controlOrGroupDisabled)return this.isActive||null==this.group?0:-1}get hasFocus(){return this._hasFocus}toggleIfAllowed(){!this.canToggle()||(this.value=this.uncheckable&&this.btnRadio===this.value?void 0:this.btnRadio)}onSpacePressed(t){this.toggleIfAllowed(),t.preventDefault()}focus(){this.el.nativeElement.focus()}onFocus(){this._hasFocus=!0}onBlur(){this._hasFocus=!1,this.onTouched()}canToggle(){return!this.controlOrGroupDisabled&&(this.uncheckable||this.btnRadio!==this.value)}ngOnChanges(t){"uncheckable"in t&&(this.uncheckable=!1!==this.uncheckable&&typeof this.uncheckable<"u")}_onChange(t){this.group?this.group.value=t:(this.onTouched(),this.onChange(t))}writeValue(t){this.value=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._disabled=t,t?this.renderer.setAttribute(this.el.nativeElement,"disabled","disabled"):this.renderer.removeAttribute(this.el.nativeElement,"disabled")}}return c.\u0275fac=function(t){return new(t||c)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.Qsj),o.Y36((0,o.Gpc)(()=>R),8))},c.\u0275dir=o.lG2({type:c,selectors:[["","btnRadio",""]],hostVars:8,hostBindings:function(t,n){1&t&&o.NdJ("click",function(){return n.toggleIfAllowed()})("keydown.space",function(i){return n.onSpacePressed(i)})("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()}),2&t&&(o.uIk("aria-disabled",n.controlOrGroupDisabled)("aria-checked",n.isActive)("role",n.role)("tabindex",n.tabindex),o.ekj("disabled",n.hasDisabledClass)("active",n.isActive))},inputs:{btnRadio:"btnRadio",uncheckable:"uncheckable",value:"value",disabled:"disabled"},features:[o._Bn([O]),o.TTD]}),c})();const M={provide:C.JU,useExisting:(0,o.Gpc)(()=>R),multi:!0};let R=(()=>{class c{constructor(t){this.cdr=t,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.role="radiogroup",this._disabled=!1}get value(){return this._value}set value(t){this._value=t,this.onChange(t)}get disabled(){return this._disabled}get tabindex(){return this._disabled?null:0}writeValue(t){this._value=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.radioButtons&&(this._disabled=t,this.radioButtons.forEach(n=>{n.setDisabledState(t)}),this.cdr.markForCheck())}onFocus(){if(this._disabled)return;const t=this.getActiveOrFocusedRadio();if(t)t.focus();else if(this.radioButtons){const n=this.radioButtons.find(r=>!r.disabled);n&&n.focus()}}onBlur(){this.onTouched&&this.onTouched()}selectNext(t){this.selectInDirection("next"),t.preventDefault()}selectPrevious(t){this.selectInDirection("previous"),t.preventDefault()}selectInDirection(t){if(this._disabled)return;function n(i,h){let f=(i+("next"===t?1:-1))%h.length;return f<0&&(f=h.length-1),f}const r=this.getActiveOrFocusedRadio();if(r&&this.radioButtons){const i=this.radioButtons.toArray(),h=i.indexOf(r);for(let g=n(h,i);g!==h;g=n(g,i))if(i[g].canToggle()){i[g].toggleIfAllowed(),i[g].focus();break}}}getActiveOrFocusedRadio(){if(this.radioButtons)return this.radioButtons.find(t=>t.isActive)||this.radioButtons.find(t=>t.hasFocus)}}return c.\u0275fac=function(t){return new(t||c)(o.Y36(o.sBO))},c.\u0275dir=o.lG2({type:c,selectors:[["","btnRadioGroup",""]],contentQueries:function(t,n,r){if(1&t&&o.Suo(r,m,4),2&t){let i;o.iGM(i=o.CRH())&&(n.radioButtons=i)}},hostVars:2,hostBindings:function(t,n){1&t&&o.NdJ("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("keydown.ArrowRight",function(i){return n.selectNext(i)})("keydown.ArrowDown",function(i){return n.selectNext(i)})("keydown.ArrowLeft",function(i){return n.selectPrevious(i)})("keydown.ArrowUp",function(i){return n.selectPrevious(i)}),2&t&&o.uIk("role",n.role)("tabindex",n.tabindex)},features:[o._Bn([M])]}),c})(),w=(()=>{class c{static forRoot(){return{ngModule:c,providers:[]}}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=o.oAB({type:c}),c.\u0275inj=o.cJS({}),c})()},9241:(A,x,d)=>{d.d(x,{P4:()=>t});var o=d(1571),C=d(6895);let t=(()=>{class n{static forRoot(){return{ngModule:n,providers:[]}}}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[C.ez]}),n})()}}]);