"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[859],{6859:(B,T,h)=>{h.r(T),h.d(T,{UsersModule:()=>Z});var a=h(6895),C=h(7136),x=h(5226),D=h.n(x),e=h(1571),k=h(7241),R=h(5830),y=h(388),A=h(8423),c=h(4333),g=h(502),t=h(4980);const n=["myModal3"];function r(l,b){if(1&l&&(e.TgZ(0,"div",33)(1,"label"),e._uU(2),e.qZA()()),2&l){const i=e.oxw();e.xp6(2),e.Oqu(i.util.translate("No Data Found.."))}}function s(l,b){if(1&l&&(e.TgZ(0,"thead")(1,"tr")(2,"th"),e._uU(3),e.qZA(),e.TgZ(4,"th"),e._uU(5),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.qZA(),e.TgZ(8,"th"),e._uU(9),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.qZA()()()),2&l){const i=e.oxw();e.xp6(3),e.Oqu(i.util.translate("Cover")),e.xp6(2),e.Oqu(i.util.translate("Name")),e.xp6(2),e.Oqu(i.util.translate("Mobile")),e.xp6(2),e.Oqu(i.util.translate("Email")),e.xp6(2),e.Oqu(i.util.translate("Action"))}}function f(l,b){1&l&&(e.TgZ(0,"td"),e._UZ(1,"ngx-skeleton-loader",34),e.qZA())}const p=function(){return[1,2,3,4,5]};function v(l,b){1&l&&(e.TgZ(0,"tr"),e.YNc(1,f,2,0,"td",15),e.qZA()),2&l&&(e.xp6(1),e.Q6J("ngForOf",e.DdM(1,p)))}function _(l,b){if(1&l){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"img",35),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"c-badge",36),e.NdJ("click",function(){const d=e.CHM(i).$implicit,m=e.oxw();return e.KtG(m.statusUpdate(d))}),e._uU(11),e.qZA(),e.TgZ(12,"c-badge",37),e.NdJ("click",function(){const d=e.CHM(i).$implicit,m=e.oxw();return e.KtG(m.viewsInfo(d.id))}),e._uU(13),e.qZA()()()}if(2&l){const i=b.$implicit,o=e.oxw();e.xp6(2),e.Q6J("src",o.api.imageUrl+i.cover,e.LSH),e.xp6(2),e.AsE("",i.first_name," ",i.last_name,""),e.xp6(2),e.Oqu(i.country_code+" "+i.mobile),e.xp6(2),e.Oqu(i.email),e.xp6(2),e.Tol(1==i.status?"me-1 badge bg-success":"me-1 badge bg-dark"),e.Q6J("color",1==i.status?"success":"dark"),e.xp6(1),e.hij(" ",o.util.translate(1==i.status?"Active":"Deactived")," "),e.xp6(2),e.hij(" ",o.util.translate("View")," ")}}function w(l,b){if(1&l){const i=e.EpF();e.TgZ(0,"div")(1,"pagination-controls",38),e.NdJ("pageChange",function(u){e.CHM(i);const d=e.oxw();return e.KtG(d.page=u)}),e.qZA()()}}const U=function(l){return{id:"pagin1",itemsPerPage:10,currentPage:l}},M=[{path:"",component:(()=>{class l{constructor(i,o,u){this.util=i,this.api=o,this.router=u,this.list=[],this.dummy=[],this.dummyList=[],this.page=1,this.resetChanges=()=>{this.list=this.dummyList},this.getAll()}ngOnInit(){}getAll(){this.dummy=Array(5),this.list=[],this.dummyList=[],this.api.get_private("v1/users/users_list").then(i=>{console.log(i),this.dummy=[],i&&i.status&&200==i.status&&i.data&&(this.list=i.data,this.dummyList=i.data)},i=>{console.log(i),this.dummy=[],this.util.apiErrorHandler(i)}).catch(i=>{console.log(i),this.dummy=[],this.util.apiErrorHandler(i)})}importCSV(){this.myModal3.show()}search(i){this.resetChanges(),console.log("string",i),this.list=this.filterItems(i)}filterItems(i){return this.list.filter(o=>(o.first_name+" "+o.last_name).toLowerCase().indexOf(i.toLowerCase())>-1)}setFilteredItems(){console.log("clear"),this.list=[],this.list=this.dummyList}uploadCSV(i){console.log("fle",i),0!=i.length&&null!=i[0].type.match(/text\/*/)&&(i?(console.log("ok"),this.util.show(),this.api.uploaCSV(i,"v1/users/importData").subscribe(u=>{console.log("==>>>>>>",u.data),this.util.hide(),this.myModal3.hide(),this.util.success("Uploaded"),this.getAll()},u=>{console.log(u),this.util.hide(),this.util.apiErrorHandler(u)})):console.log("no"))}downloadSample(){window.open("assets/sample/users.csv","_blank")}exportCSV(){let i=[];this.list.forEach(u=>{const d={id:this.util.replaceWithDot(u.id),first_name:this.util.replaceWithDot(u.first_name),last_name:this.util.replaceWithDot(u.last_name),country_code:this.util.replaceWithDot(u.country_code),mobile:this.util.replaceWithDot(u.mobile),email:this.util.replaceWithDot(u.email),cover:this.util.replaceWithDot(u.cover)};i.push(d)}),this.util.downloadFile(i,"users",["id","first_name","last_name","cover","country_code","mobile","email"])}saveType(){this.myModal3.hide()}statusUpdate(i){console.log(i),D().fire({title:this.util.translate("Are you sure?"),text:this.util.translate("To update this item?"),icon:"question",showConfirmButton:!0,confirmButtonText:this.util.translate("Yes"),showCancelButton:!0,cancelButtonText:this.util.translate("Cancel"),backdrop:!1,background:"white"}).then(o=>{if(o&&o.value){console.log("update it");const u={id:i.id,status:0==i.status?1:0};this.util.show(),this.api.post_private("v1/users/update",u).then(d=>{this.util.hide(),console.log("+++++++++++++++",d),d&&d.status&&200==d.status&&d.success&&(this.util.success(this.util.translate("Status Updated !")),this.getAll())},d=>{this.util.hide(),console.log("Error",d),this.util.apiErrorHandler(d)}).catch(d=>{this.util.hide(),console.log("Err",d),this.util.apiErrorHandler(d)})}})}viewsInfo(i){console.log(i),this.router.navigate(["user-details"],{queryParams:{id:i}})}}return l.\u0275fac=function(i){return new(i||l)(e.Y36(k.f),e.Y36(R.s),e.Y36(C.F0))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-users"]],viewQuery:function(i,o){if(1&i&&e.Gf(n,5),2&i){let u;e.iGM(u=e.CRH())&&(o.myModal3=u.first)}},decls:47,vars:18,consts:[["type","ball-scale-multiple"],[1,"animated","fadeIn"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"card-header-actions"],["type","submit",1,"btn","btn-sm","btn-warning",2,"float","right","margin","0px 5px",3,"click"],["type","submit",1,"btn","btn-sm","btn-success",2,"float","right","margin","0px 5px",3,"click"],[1,"card-body"],[1,"row","flex_row"],["type","text","id","name",1,"form-control",3,"placeholder","input"],["class","error_div",4,"ngIf"],[1,"table","table-striped"],[4,"ngIf"],[4,"ngFor","ngForOf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["myModal3","bs-modal"],["role","document",1,"modal-dialog","modal-warning"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","long_content"],[1,"form-group","row"],[1,"col-md-12"],["type","file","id","file-input","name","file-input","accept",".csv",3,"change"],["type","button",1,"btn","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-cloud-download"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-warning",3,"click"],[1,"error_div"],["count","1","appearance","line"],["onError","this.src='assets/img/dummy.jpeg'",1,"img-responsive",2,"height","20px","width","20px","object-fit","cover",3,"src"],[3,"color","click"],["color","primary",1,"me-1","badge","bg-info",3,"click"],["id","pagin1",3,"pageChange"]],template:function(i,o){if(1&i){const u=e.EpF();e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return o.importCSV()}),e._uU(9),e.qZA(),e._uU(10," \xa0 "),e.TgZ(11,"button",8),e.NdJ("click",function(){return o.exportCSV()}),e._uU(12),e.qZA()()(),e.TgZ(13,"div",9)(14,"div",10)(15,"div",3)(16,"input",11),e.NdJ("input",function(m){return o.search(m.target.value)}),e.qZA()()(),e.YNc(17,r,3,1,"div",12),e.TgZ(18,"table",13),e.YNc(19,s,12,5,"thead",14),e.TgZ(20,"tbody"),e.YNc(21,v,2,2,"tr",15),e.YNc(22,_,14,10,"tr",15),e.ALo(23,"paginate"),e.qZA()(),e.YNc(24,w,2,0,"div",14),e.qZA()()()()(),e.TgZ(25,"div",16,17)(27,"div",18)(28,"div",19)(29,"div",20)(30,"h5",21),e._uU(31),e.qZA(),e.TgZ(32,"button",22),e.NdJ("click",function(){e.CHM(u);const m=e.MAs(26);return e.KtG(m.hide())}),e.TgZ(33,"span",23),e._uU(34,"\xd7"),e.qZA()()(),e.TgZ(35,"div",24)(36,"div",25)(37,"div",26)(38,"input",27),e.NdJ("change",function(m){return o.uploadCSV(m.target.files)}),e.qZA()()(),e.TgZ(39,"button",28),e.NdJ("click",function(){return o.downloadSample()}),e._uU(40),e._UZ(41,"i",29),e.qZA()(),e.TgZ(42,"div",30)(43,"button",31),e.NdJ("click",function(){e.CHM(u);const m=e.MAs(26);return e.KtG(m.hide())}),e._uU(44),e.qZA(),e.TgZ(45,"button",32),e.NdJ("click",function(){return o.saveType()}),e._uU(46),e.qZA()()()()()}2&i&&(e.xp6(6),e.hij(" ",o.util.translate("All Users")," "),e.xp6(3),e.hij(" ",o.util.translate("Bulk CSV Upload")," "),e.xp6(3),e.hij(" ",o.util.translate("Export as CSV")," "),e.xp6(4),e.Q6J("placeholder",o.util.translate("Search User")),e.xp6(1),e.Q6J("ngIf",(null==o.list?null:o.list.length)<=0&&(null==o.dummy?null:o.dummy.length)<=0),e.xp6(2),e.Q6J("ngIf",null==o.list?null:o.list.length),e.xp6(2),e.Q6J("ngForOf",o.dummy),e.xp6(1),e.Q6J("ngForOf",e.xi3(23,13,o.list,e.VKq(16,U,o.page))),e.xp6(2),e.Q6J("ngIf",(null==o.list?null:o.list.length)>0),e.xp6(7),e.hij("",o.util.translate("Bulk CSV Upload")," "),e.xp6(9),e.hij(" ",o.util.translate("Download Sample CSV")," \xa0 "),e.xp6(4),e.Oqu(o.util.translate("Close")),e.xp6(2),e.hij(" ",o.util.translate("Save Changes"),""))},dependencies:[a.sg,a.O5,y.oB,A.Ro,c.LS,g.xr,t.FN3,c._s],styles:['@charset "UTF-8";']}),l})()}];let E=(()=>{class l{}return l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[C.Bz.forChild(M),C.Bz]}),l})();var O=h(433),F=h(9241),I=h(835);let Z=(()=>{class l{}return l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[a.ez,E,y.zk.forRoot(),O.u5,A.ef,c.JX,g.hx.forRoot({animation:"progress-dark"}),F.P4.forRoot(),I.Fq.forRoot(),t.TXv]}),l})()},835:(B,T,h)=>{h.d(T,{Fq:()=>A});var a=h(1571),C=h(433);const x={provide:C.JU,useExisting:(0,a.Gpc)(()=>D),multi:!0};let D=(()=>{class c{constructor(){this.btnCheckboxTrue=!0,this.btnCheckboxFalse=!1,this.state=!1,this.isDisabled=!1,this.onChange=Function.prototype,this.onTouched=Function.prototype}onClick(){this.isDisabled||(this.toggle(!this.state),this.onChange(this.value))}ngOnInit(){this.toggle(this.trueValue===this.value)}get trueValue(){return!(typeof this.btnCheckboxTrue<"u")||this.btnCheckboxTrue}get falseValue(){return typeof this.btnCheckboxFalse<"u"&&this.btnCheckboxFalse}toggle(t){this.state=t,this.value=this.state?this.trueValue:this.falseValue}writeValue(t){this.state=this.trueValue===t,this.value=t?this.trueValue:this.falseValue}setDisabledState(t){this.isDisabled=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275dir=a.lG2({type:c,selectors:[["","btnCheckbox",""]],hostVars:3,hostBindings:function(t,n){1&t&&a.NdJ("click",function(){return n.onClick()}),2&t&&(a.uIk("aria-pressed",n.state),a.ekj("active",n.state))},inputs:{btnCheckboxTrue:"btnCheckboxTrue",btnCheckboxFalse:"btnCheckboxFalse"},features:[a._Bn([x])]}),c})();const e={provide:C.JU,useExisting:(0,a.Gpc)(()=>k),multi:!0};let k=(()=>{class c{constructor(t,n,r,s){this.el=t,this.cdr=n,this.renderer=r,this.group=s,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.uncheckable=!1,this.role="radio",this._disabled=!1,this._hasFocus=!1}get value(){return this.group?this.group.value:this._value}set value(t){this.group?this.group.value=t:(this._value=t,this._onChange(t))}get disabled(){return this._disabled}set disabled(t){this.setDisabledState(t)}get controlOrGroupDisabled(){return!!(this.disabled||this.group&&this.group.disabled)||void 0}get hasDisabledClass(){return this.controlOrGroupDisabled&&!this.isActive}get isActive(){return this.btnRadio===this.value}get tabindex(){if(!this.controlOrGroupDisabled)return this.isActive||null==this.group?0:-1}get hasFocus(){return this._hasFocus}toggleIfAllowed(){!this.canToggle()||(this.value=this.uncheckable&&this.btnRadio===this.value?void 0:this.btnRadio)}onSpacePressed(t){this.toggleIfAllowed(),t.preventDefault()}focus(){this.el.nativeElement.focus()}onFocus(){this._hasFocus=!0}onBlur(){this._hasFocus=!1,this.onTouched()}canToggle(){return!this.controlOrGroupDisabled&&(this.uncheckable||this.btnRadio!==this.value)}ngOnChanges(t){"uncheckable"in t&&(this.uncheckable=!1!==this.uncheckable&&typeof this.uncheckable<"u")}_onChange(t){this.group?this.group.value=t:(this.onTouched(),this.onChange(t))}writeValue(t){this.value=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._disabled=t,t?this.renderer.setAttribute(this.el.nativeElement,"disabled","disabled"):this.renderer.removeAttribute(this.el.nativeElement,"disabled")}}return c.\u0275fac=function(t){return new(t||c)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.Qsj),a.Y36((0,a.Gpc)(()=>y),8))},c.\u0275dir=a.lG2({type:c,selectors:[["","btnRadio",""]],hostVars:8,hostBindings:function(t,n){1&t&&a.NdJ("click",function(){return n.toggleIfAllowed()})("keydown.space",function(s){return n.onSpacePressed(s)})("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()}),2&t&&(a.uIk("aria-disabled",n.controlOrGroupDisabled)("aria-checked",n.isActive)("role",n.role)("tabindex",n.tabindex),a.ekj("disabled",n.hasDisabledClass)("active",n.isActive))},inputs:{btnRadio:"btnRadio",uncheckable:"uncheckable",value:"value",disabled:"disabled"},features:[a._Bn([e]),a.TTD]}),c})();const R={provide:C.JU,useExisting:(0,a.Gpc)(()=>y),multi:!0};let y=(()=>{class c{constructor(t){this.cdr=t,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.role="radiogroup",this._disabled=!1}get value(){return this._value}set value(t){this._value=t,this.onChange(t)}get disabled(){return this._disabled}get tabindex(){return this._disabled?null:0}writeValue(t){this._value=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.radioButtons&&(this._disabled=t,this.radioButtons.forEach(n=>{n.setDisabledState(t)}),this.cdr.markForCheck())}onFocus(){if(this._disabled)return;const t=this.getActiveOrFocusedRadio();if(t)t.focus();else if(this.radioButtons){const n=this.radioButtons.find(r=>!r.disabled);n&&n.focus()}}onBlur(){this.onTouched&&this.onTouched()}selectNext(t){this.selectInDirection("next"),t.preventDefault()}selectPrevious(t){this.selectInDirection("previous"),t.preventDefault()}selectInDirection(t){if(this._disabled)return;function n(s,f){let v=(s+("next"===t?1:-1))%f.length;return v<0&&(v=f.length-1),v}const r=this.getActiveOrFocusedRadio();if(r&&this.radioButtons){const s=this.radioButtons.toArray(),f=s.indexOf(r);for(let p=n(f,s);p!==f;p=n(p,s))if(s[p].canToggle()){s[p].toggleIfAllowed(),s[p].focus();break}}}getActiveOrFocusedRadio(){if(this.radioButtons)return this.radioButtons.find(t=>t.isActive)||this.radioButtons.find(t=>t.hasFocus)}}return c.\u0275fac=function(t){return new(t||c)(a.Y36(a.sBO))},c.\u0275dir=a.lG2({type:c,selectors:[["","btnRadioGroup",""]],contentQueries:function(t,n,r){if(1&t&&a.Suo(r,k,4),2&t){let s;a.iGM(s=a.CRH())&&(n.radioButtons=s)}},hostVars:2,hostBindings:function(t,n){1&t&&a.NdJ("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("keydown.ArrowRight",function(s){return n.selectNext(s)})("keydown.ArrowDown",function(s){return n.selectNext(s)})("keydown.ArrowLeft",function(s){return n.selectPrevious(s)})("keydown.ArrowUp",function(s){return n.selectPrevious(s)}),2&t&&a.uIk("role",n.role)("tabindex",n.tabindex)},features:[a._Bn([R])]}),c})(),A=(()=>{class c{static forRoot(){return{ngModule:c,providers:[]}}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=a.oAB({type:c}),c.\u0275inj=a.cJS({}),c})()},9241:(B,T,h)=>{h.d(T,{P4:()=>t});var a=h(1571),C=h(6895);let t=(()=>{class n{static forRoot(){return{ngModule:n,providers:[]}}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[C.ez]}),n})()}}]);