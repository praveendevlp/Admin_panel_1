"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[134],{5134:(N,c,l)=>{l.r(c),l.d(c,{ContactFormsModule:()=>O});var m=l(6895),p=l(7136),_=l(5439),t=l(1571),C=l(5830),Z=l(7241),g=l(388),u=l(433),h=l(8423),f=l(502),d=l(4333);const y=["myModal"];function v(o,i){if(1&o&&(t.TgZ(0,"div",32)(1,"p"),t._uU(2),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Oqu(e.util.translate("No Data Found.."))}}function T(o,i){if(1&o&&(t.TgZ(0,"thead")(1,"tr")(2,"th"),t._uU(3),t.qZA(),t.TgZ(4,"th"),t._uU(5),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.qZA(),t.TgZ(8,"th"),t._uU(9),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.qZA()()()),2&o){const e=t.oxw();t.xp6(3),t.Oqu(e.util.translate("ID")),t.xp6(2),t.Oqu(e.util.translate("Name")),t.xp6(2),t.Oqu(e.util.translate("Email")),t.xp6(2),t.Oqu(e.util.translate("Message")),t.xp6(2),t.Oqu(e.util.translate("Action"))}}function F(o,i){1&o&&(t.TgZ(0,"td"),t._UZ(1,"ngx-skeleton-loader",33),t.qZA())}const x=function(){return[1,2,3,4,5,6,7,8]};function A(o,i){1&o&&(t.TgZ(0,"tr"),t.YNc(1,F,2,0,"td",13),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,x)))}function b(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"c-badge",34),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.openItem(a))}),t._uU(11),t.qZA()()()}if(2&o){const e=i.$implicit,n=t.oxw();t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Oqu(e.message),t.xp6(3),t.hij(" ",n.util.translate("View / Reply")," ")}}function q(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"pagination-controls",35),t.NdJ("pageChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.page=s)}),t.qZA()()}}const M=function(o){return{id:"pagin1",itemsPerPage:10,currentPage:o}},U=[{path:"",component:(()=>{class o{constructor(e,n){this.api=e,this.util=n,this.dummy=[],this.list=[],this.dummyList=[],this.page=1,this.name="",this.email="",this.message="",this.reply="",this.id="",this.resetChanges=()=>{this.list=this.dummyList},this.getForms()}ngOnInit(){}getForms(){this.list=[],this.dummy=Array(5),this.api.get_private("v1/contacts/getAll").then(e=>{console.log(e),this.dummy=[],e&&e.status&&200==e.status&&e.data&&e.data.length&&(this.list=e.data,this.dummyList=e.data)},e=>{console.log(e),this.dummy=[],this.util.apiErrorHandler(e)}).catch(e=>{console.log(e),this.dummy=[],this.util.apiErrorHandler(e)})}search(e){this.resetChanges(),console.log("string",e),this.list=this.filterItems(e)}filterItems(e){return this.list.filter(n=>n.name.toLowerCase().indexOf(e.toLowerCase())>-1)}setFilteredItems(){console.log("clear"),this.list=[],this.list=this.dummyList}getDate(e){return _(e).format("ll")}openItem(e){console.log(e),this.name=e.name,this.email=e.email,this.message=e.message,this.id=e.id,this.myModal.show()}sendMail(){if(""==this.reply||!this.reply)return this.util.error(this.util.translate("Please add your reply text")),!1;const e={id:this.id,status:1};this.util.show(),this.api.post_private("v1/contacts/update",e).then(n=>{if(console.log(n),this.util.hide(),n&&n.status&&200==n.status){this.util.success(this.util.translate("Mail sent"));const s={id:this.id,mediaURL:this.api.imageUrl,subject:this.util.generalSettings.name+" "+this.util.translate("Replied on your mail"),thank_you_text:this.util.translate("You have received new mail"),header_text:this.util.generalSettings.name+" "+this.util.translate("Replied on your mail"),email:this.email,from_username:this.name,to_respond:this.reply};console.log(s),this.api.post_private("v1/mails/replyContactForm",s).then(a=>{console.log(a)},a=>{console.log(a)}),this.reply="",this.myModal.hide()}},n=>{console.log(n),this.util.hide(),this.util.apiErrorHandler(n)}).catch(n=>{console.log(n),this.util.hide(),this.util.apiErrorHandler(n)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C.s),t.Y36(Z.f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-contact-forms"]],viewQuery:function(e,n){if(1&e&&t.Gf(y,5),2&e){let s;t.iGM(s=t.CRH())&&(n.myModal=s.first)}},decls:59,vars:25,consts:[["type","ball-scale-multiple"],[1,"animated","fadeIn"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row","flex_row"],[1,"col-lg-4"],["type","text","id","name",1,"form-control","form-control-lg",3,"placeholder","input"],["style","text-align: center;",4,"ngIf"],[1,"table","table-striped"],[4,"ngIf"],[4,"ngFor","ngForOf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["myModal","bs-modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row"],[1,"col-md-12"],["for","disabled-input",1,"col-form-label"],[2,"font-weight","bold"],["for","text-input",1,"col-form-label"],["type","text","rows","10","id","text-input","name","text-input",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[2,"text-align","center"],["count","1","appearance","line"],["color","info",1,"me-1","badge","bg-info",3,"click"],["id","pagin1",3,"pageChange"]],template:function(e,n){if(1&e){const s=t.EpF();t._UZ(0,"ngx-spinner",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"input",9),t.NdJ("input",function(r){return n.search(r.target.value)}),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.YNc(12,v,3,1,"div",10),t.TgZ(13,"table",11),t.YNc(14,T,12,5,"thead",12),t.TgZ(15,"tbody"),t.YNc(16,A,2,2,"tr",13),t.YNc(17,b,12,5,"tr",13),t.ALo(18,"paginate"),t.qZA()(),t.YNc(19,q,2,0,"div",12),t.qZA()()()()(),t.TgZ(20,"div",14,15)(22,"div",16)(23,"div",17)(24,"div",18)(25,"h5",19),t._uU(26),t.qZA(),t.TgZ(27,"button",20),t.NdJ("click",function(){t.CHM(s);const r=t.MAs(21);return t.KtG(r.hide())}),t.TgZ(28,"span",21),t._uU(29,"\xd7"),t.qZA()()(),t.TgZ(30,"div",22)(31,"div",23)(32,"div",24)(33,"label",25),t._uU(34),t.qZA(),t.TgZ(35,"label",26),t._uU(36),t.qZA()()(),t.TgZ(37,"div",23)(38,"div",24)(39,"label",25),t._uU(40),t.qZA(),t.TgZ(41,"label",26),t._uU(42),t.qZA()()(),t.TgZ(43,"div",23)(44,"div",24)(45,"label",25),t._uU(46),t.qZA(),t.TgZ(47,"label",26),t._uU(48),t.qZA()()(),t.TgZ(49,"div",23)(50,"div",24)(51,"label",27),t._uU(52),t.qZA(),t.TgZ(53,"textarea",28),t.NdJ("ngModelChange",function(r){return n.reply=r}),t.qZA()()()(),t.TgZ(54,"div",29)(55,"button",30),t.NdJ("click",function(){t.CHM(s);const r=t.MAs(21);return t.KtG(r.hide())}),t._uU(56),t.qZA(),t.TgZ(57,"button",31),t.NdJ("click",function(){return n.sendMail()}),t._uU(58),t.qZA()()()()()}2&e&&(t.xp6(6),t.hij(" ",n.util.translate("All Contact Forms")," "),t.xp6(4),t.Q6J("placeholder",n.util.translate("Search by name")),t.xp6(2),t.Q6J("ngIf",!(null!=n.list&&n.list.length)&&0==n.dummy.length),t.xp6(2),t.Q6J("ngIf",null==n.list?null:n.list.length),t.xp6(2),t.Q6J("ngForOf",n.dummy),t.xp6(1),t.Q6J("ngForOf",t.xi3(18,20,n.list,t.VKq(23,M,n.page))),t.xp6(2),t.Q6J("ngIf",(null==n.list?null:n.list.length)>0),t.xp6(7),t.AsE("",n.util.translate("Reply to")," ",n.name," "),t.xp6(8),t.hij("",n.util.translate("Name")," : "),t.xp6(2),t.hij(" ",n.name," "),t.xp6(4),t.hij("",n.util.translate("Email")," : "),t.xp6(2),t.hij(" ",n.email," "),t.xp6(4),t.hij("",n.util.translate("Message")," : "),t.xp6(2),t.hij(" ",n.message," "),t.xp6(4),t.hij("",n.util.translate("Reply")," "),t.xp6(1),t.Q6J("placeholder",n.util.translate("Reply"))("ngModel",n.reply),t.xp6(3),t.Oqu(n.util.translate("Close")),t.xp6(2),t.Oqu(n.util.translate("Reply")))},dependencies:[m.sg,m.O5,g.oB,u.Fj,u.JJ,u.On,h.Ro,f.xr,d.LS,d._s],styles:['@charset "UTF-8";']}),o})()}];let J=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.Bz.forChild(U),p.Bz]}),o})(),O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.ez,J,g.zk.forRoot(),u.u5,h.ef,f.hx.forRoot({animation:"progress-dark"}),d.JX]}),o})()}}]);