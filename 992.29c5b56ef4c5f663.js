"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[992],{5992:(B,C,d)=>{d.r(C),d.d(C,{ReviewsModule:()=>S});var a=d(6895),_=d(7136),e=d(1571),D=d(7241),A=d(5830),y=d(388),x=d(8423),T=d(4333),w=d(502);const c=["myModal3"];function g(o,v){if(1&o&&(e.TgZ(0,"div",31)(1,"label"),e._uU(2),e.qZA()()),2&o){const n=e.oxw();e.xp6(2),e.Oqu(n.util.translate("No Data Found.."))}}function t(o,v){if(1&o&&(e.TgZ(0,"thead")(1,"tr")(2,"th"),e._uU(3),e.qZA(),e.TgZ(4,"th"),e._uU(5),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.qZA(),e.TgZ(8,"th"),e._uU(9),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.qZA()()()),2&o){const n=e.oxw();e.xp6(3),e.Oqu(n.util.translate("Id")),e.xp6(2),e.Oqu(n.util.translate("User Name")),e.xp6(2),e.Oqu(n.util.translate("To")),e.xp6(2),e.Oqu(n.util.translate("Rate")),e.xp6(2),e.Oqu(n.util.translate("Message")),e.xp6(2),e.Oqu(n.util.translate("From"))}}function s(o,v){1&o&&(e.TgZ(0,"td"),e._UZ(1,"ngx-skeleton-loader",32),e.qZA())}const r=function(){return[1,2,3,4]};function i(o,v){1&o&&(e.TgZ(0,"tr"),e.YNc(1,s,2,0,"td",13),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngForOf",e.DdM(1,r)))}function u(o,v){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw().$implicit;e.xp6(1),e.hij(" To Store - ",n.storeInfo.name," ")}}function f(o,v){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw().$implicit;e.xp6(1),e.hij(" To Product - ",n.productInfo.name," ")}}function p(o,v){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw().$implicit;e.xp6(1),e.hij(" To Driver - ",n.driverInfo.first_name+" "+n.driverInfo.last_name," ")}}function b(o,v){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e.YNc(6,u,2,1,"span",12),e.YNc(7,f,2,1,"span",12),e.YNc(8,p,2,1,"span",12),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA()()),2&o){const n=v.$implicit;e.xp6(2),e.hij("",n.id," "),e.xp6(2),e.Oqu(n.userInfo.first_name+" "+n.userInfo.last_name),e.xp6(2),e.Q6J("ngIf",0!=n.sid&&n.storeInfo&&n.storeInfo.name),e.xp6(1),e.Q6J("ngIf",0!=n.pid&&n.productInfo&&n.productInfo.name),e.xp6(1),e.Q6J("ngIf",0!=n.did&&n.driverInfo&&n.driverInfo.first_name),e.xp6(2),e.Oqu(n.rate),e.xp6(2),e.Oqu(n.msg),e.xp6(2),e.Oqu(n.way)}}function R(o,v){if(1&o){const n=e.EpF();e.TgZ(0,"div")(1,"pagination-controls",33),e.NdJ("pageChange",function(h){e.CHM(n);const m=e.oxw();return e.KtG(m.page=h)}),e.qZA()()}}const I=function(o){return{id:"pagin1",itemsPerPage:10,currentPage:o}},M=[{path:"",component:(()=>{class o{constructor(n,l){this.util=n,this.api=l,this.dummy=[],this.list=[],this.page=1,this.getList()}ngOnInit(){}getList(){this.dummy=Array(5),this.api.get_private("v1/reviews/getAll").then(n=>{console.log(n),this.dummy=[],n&&n.status&&200==n.status&&n.data&&(this.list=n.data)},n=>{console.log(n),this.dummy=[],this.list=[],this.util.apiErrorHandler(n)}).catch(n=>{console.log(n),this.dummy=[],this.list=[],this.util.apiErrorHandler(n)})}importCSV(){this.myModal3.show()}exportCSV(){let n=[];this.list.forEach(h=>{const m={id:this.util.replaceWithDot(h.id),did:this.util.replaceWithDot(h.did),msg:this.util.replaceWithDot(h.msg),pid:this.util.replaceWithDot(h.pid),rate:this.util.replaceWithDot(h.rate),sid:this.util.replaceWithDot(h.sid),status:this.util.replaceWithDot(h.status),uid:this.util.replaceWithDot(h.uid),way:this.util.replaceWithDot(h.way)};n.push(m)}),this.util.downloadFile(n,"rating",["id","did","msg","pid","rate","sid","status","uid","way"])}uploadCSV(n){console.log("fle",n),0!=n.length&&null!=n[0].type.match(/text\/*/)&&(n?(console.log("ok"),this.util.show(),this.api.uploaCSV(n,"v1/reviews/importData").subscribe(h=>{console.log("==>>>>>>",h.data),this.util.hide(),this.myModal3.hide(),this.util.success("Uploaded"),this.getList()},h=>{console.log(h),this.util.hide(),this.util.apiErrorHandler(h)})):console.log("no"))}downloadSample(){window.open("assets/sample/rating.csv","_blank")}saveType(){this.myModal3.hide()}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(D.f),e.Y36(A.s))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-reviews"]],viewQuery:function(n,l){if(1&n&&e.Gf(c,5),2&n){let h;e.iGM(h=e.CRH())&&(l.myModal3=h.first)}},decls:44,vars:17,consts:[["type","ball-scale-multiple"],[1,"animated","fadeIn"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"card-header-actions"],["type","submit",1,"btn","btn-sm","btn-warning",2,"float","right","margin","0px 5px",3,"click"],["type","submit",1,"btn","btn-sm","btn-success",2,"float","right","margin","0px 5px",3,"click"],[1,"card-body"],["class","error_div",4,"ngIf"],[1,"table","table-responsive-sm","table-hover","mb-0"],[4,"ngIf"],[4,"ngFor","ngForOf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["myModal3","bs-modal"],["role","document",1,"modal-dialog","modal-warning"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","long_content"],[1,"form-group","row"],[1,"col-md-12"],["type","file","id","file-input","name","file-input","accept",".csv",3,"change"],["type","button",1,"btn","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-cloud-download"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-warning",3,"click"],[1,"error_div"],["count","1","appearance","line"],["id","pagin1",3,"pageChange"]],template:function(n,l){if(1&n){const h=e.EpF();e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return l.importCSV()}),e._uU(9),e.qZA(),e._uU(10," \xa0 "),e.TgZ(11,"button",8),e.NdJ("click",function(){return l.exportCSV()}),e._uU(12),e.qZA()()(),e.TgZ(13,"div",9),e.YNc(14,g,3,1,"div",10),e.TgZ(15,"table",11),e.YNc(16,t,14,6,"thead",12),e.TgZ(17,"tbody"),e.YNc(18,i,2,2,"tr",13),e.YNc(19,b,15,8,"tr",13),e.ALo(20,"paginate"),e.qZA()(),e.YNc(21,R,2,0,"div",12),e.qZA()()()()(),e.TgZ(22,"div",14,15)(24,"div",16)(25,"div",17)(26,"div",18)(27,"h5",19),e._uU(28),e.qZA(),e.TgZ(29,"button",20),e.NdJ("click",function(){e.CHM(h);const k=e.MAs(23);return e.KtG(k.hide())}),e.TgZ(30,"span",21),e._uU(31,"\xd7"),e.qZA()()(),e.TgZ(32,"div",22)(33,"div",23)(34,"div",24)(35,"input",25),e.NdJ("change",function(k){return l.uploadCSV(k.target.files)}),e.qZA()()(),e.TgZ(36,"button",26),e.NdJ("click",function(){return l.downloadSample()}),e._uU(37),e._UZ(38,"i",27),e.qZA()(),e.TgZ(39,"div",28)(40,"button",29),e.NdJ("click",function(){e.CHM(h);const k=e.MAs(23);return e.KtG(k.hide())}),e._uU(41),e.qZA(),e.TgZ(42,"button",30),e.NdJ("click",function(){return l.saveType()}),e._uU(43),e.qZA()()()()()}2&n&&(e.xp6(6),e.hij(" ",l.util.translate("All Reviews")," "),e.xp6(3),e.hij(" ",l.util.translate("Bulk CSV Upload")," "),e.xp6(3),e.hij(" ",l.util.translate("Export as CSV")," "),e.xp6(2),e.Q6J("ngIf",(null==l.list?null:l.list.length)<=0&&(null==l.dummy?null:l.dummy.length)<=0),e.xp6(2),e.Q6J("ngIf",(null==l.list?null:l.list.length)>0),e.xp6(2),e.Q6J("ngForOf",l.dummy),e.xp6(1),e.Q6J("ngForOf",e.xi3(20,12,l.list,e.VKq(15,I,l.page))),e.xp6(2),e.Q6J("ngIf",(null==l.list?null:l.list.length)>0),e.xp6(7),e.hij("",l.util.translate("Bulk CSV Upload")," "),e.xp6(9),e.hij(" ",l.util.translate("Download Sample CSV")," \xa0 "),e.xp6(4),e.Oqu(l.util.translate("Close")),e.xp6(2),e.hij(" ",l.util.translate("Save Changes"),""))},dependencies:[a.sg,a.O5,y.oB,x.Ro,T.LS,w.xr,T._s],styles:['@charset "UTF-8";']}),o})()}];let O=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[_.Bz.forChild(M),_.Bz]}),o})();var Z=d(433),E=d(9241),F=d(835),H=d(4980);let S=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[a.ez,O,y.zk.forRoot(),Z.u5,x.ef,T.JX,w.hx.forRoot({animation:"progress-dark"}),E.P4.forRoot(),F.Fq.forRoot(),H.TXv]}),o})()},835:(B,C,d)=>{d.d(C,{Fq:()=>w});var a=d(1571),_=d(433);const e={provide:_.JU,useExisting:(0,a.Gpc)(()=>D),multi:!0};let D=(()=>{class c{constructor(){this.btnCheckboxTrue=!0,this.btnCheckboxFalse=!1,this.state=!1,this.isDisabled=!1,this.onChange=Function.prototype,this.onTouched=Function.prototype}onClick(){this.isDisabled||(this.toggle(!this.state),this.onChange(this.value))}ngOnInit(){this.toggle(this.trueValue===this.value)}get trueValue(){return!(typeof this.btnCheckboxTrue<"u")||this.btnCheckboxTrue}get falseValue(){return typeof this.btnCheckboxFalse<"u"&&this.btnCheckboxFalse}toggle(t){this.state=t,this.value=this.state?this.trueValue:this.falseValue}writeValue(t){this.state=this.trueValue===t,this.value=t?this.trueValue:this.falseValue}setDisabledState(t){this.isDisabled=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275dir=a.lG2({type:c,selectors:[["","btnCheckbox",""]],hostVars:3,hostBindings:function(t,s){1&t&&a.NdJ("click",function(){return s.onClick()}),2&t&&(a.uIk("aria-pressed",s.state),a.ekj("active",s.state))},inputs:{btnCheckboxTrue:"btnCheckboxTrue",btnCheckboxFalse:"btnCheckboxFalse"},features:[a._Bn([e])]}),c})();const A={provide:_.JU,useExisting:(0,a.Gpc)(()=>y),multi:!0};let y=(()=>{class c{constructor(t,s,r,i){this.el=t,this.cdr=s,this.renderer=r,this.group=i,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.uncheckable=!1,this.role="radio",this._disabled=!1,this._hasFocus=!1}get value(){return this.group?this.group.value:this._value}set value(t){this.group?this.group.value=t:(this._value=t,this._onChange(t))}get disabled(){return this._disabled}set disabled(t){this.setDisabledState(t)}get controlOrGroupDisabled(){return!!(this.disabled||this.group&&this.group.disabled)||void 0}get hasDisabledClass(){return this.controlOrGroupDisabled&&!this.isActive}get isActive(){return this.btnRadio===this.value}get tabindex(){if(!this.controlOrGroupDisabled)return this.isActive||null==this.group?0:-1}get hasFocus(){return this._hasFocus}toggleIfAllowed(){!this.canToggle()||(this.value=this.uncheckable&&this.btnRadio===this.value?void 0:this.btnRadio)}onSpacePressed(t){this.toggleIfAllowed(),t.preventDefault()}focus(){this.el.nativeElement.focus()}onFocus(){this._hasFocus=!0}onBlur(){this._hasFocus=!1,this.onTouched()}canToggle(){return!this.controlOrGroupDisabled&&(this.uncheckable||this.btnRadio!==this.value)}ngOnChanges(t){"uncheckable"in t&&(this.uncheckable=!1!==this.uncheckable&&typeof this.uncheckable<"u")}_onChange(t){this.group?this.group.value=t:(this.onTouched(),this.onChange(t))}writeValue(t){this.value=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._disabled=t,t?this.renderer.setAttribute(this.el.nativeElement,"disabled","disabled"):this.renderer.removeAttribute(this.el.nativeElement,"disabled")}}return c.\u0275fac=function(t){return new(t||c)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.Qsj),a.Y36((0,a.Gpc)(()=>T),8))},c.\u0275dir=a.lG2({type:c,selectors:[["","btnRadio",""]],hostVars:8,hostBindings:function(t,s){1&t&&a.NdJ("click",function(){return s.toggleIfAllowed()})("keydown.space",function(i){return s.onSpacePressed(i)})("focus",function(){return s.onFocus()})("blur",function(){return s.onBlur()}),2&t&&(a.uIk("aria-disabled",s.controlOrGroupDisabled)("aria-checked",s.isActive)("role",s.role)("tabindex",s.tabindex),a.ekj("disabled",s.hasDisabledClass)("active",s.isActive))},inputs:{btnRadio:"btnRadio",uncheckable:"uncheckable",value:"value",disabled:"disabled"},features:[a._Bn([A]),a.TTD]}),c})();const x={provide:_.JU,useExisting:(0,a.Gpc)(()=>T),multi:!0};let T=(()=>{class c{constructor(t){this.cdr=t,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.role="radiogroup",this._disabled=!1}get value(){return this._value}set value(t){this._value=t,this.onChange(t)}get disabled(){return this._disabled}get tabindex(){return this._disabled?null:0}writeValue(t){this._value=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.radioButtons&&(this._disabled=t,this.radioButtons.forEach(s=>{s.setDisabledState(t)}),this.cdr.markForCheck())}onFocus(){if(this._disabled)return;const t=this.getActiveOrFocusedRadio();if(t)t.focus();else if(this.radioButtons){const s=this.radioButtons.find(r=>!r.disabled);s&&s.focus()}}onBlur(){this.onTouched&&this.onTouched()}selectNext(t){this.selectInDirection("next"),t.preventDefault()}selectPrevious(t){this.selectInDirection("previous"),t.preventDefault()}selectInDirection(t){if(this._disabled)return;function s(i,u){let p=(i+("next"===t?1:-1))%u.length;return p<0&&(p=u.length-1),p}const r=this.getActiveOrFocusedRadio();if(r&&this.radioButtons){const i=this.radioButtons.toArray(),u=i.indexOf(r);for(let f=s(u,i);f!==u;f=s(f,i))if(i[f].canToggle()){i[f].toggleIfAllowed(),i[f].focus();break}}}getActiveOrFocusedRadio(){if(this.radioButtons)return this.radioButtons.find(t=>t.isActive)||this.radioButtons.find(t=>t.hasFocus)}}return c.\u0275fac=function(t){return new(t||c)(a.Y36(a.sBO))},c.\u0275dir=a.lG2({type:c,selectors:[["","btnRadioGroup",""]],contentQueries:function(t,s,r){if(1&t&&a.Suo(r,y,4),2&t){let i;a.iGM(i=a.CRH())&&(s.radioButtons=i)}},hostVars:2,hostBindings:function(t,s){1&t&&a.NdJ("focus",function(){return s.onFocus()})("blur",function(){return s.onBlur()})("keydown.ArrowRight",function(i){return s.selectNext(i)})("keydown.ArrowDown",function(i){return s.selectNext(i)})("keydown.ArrowLeft",function(i){return s.selectPrevious(i)})("keydown.ArrowUp",function(i){return s.selectPrevious(i)}),2&t&&a.uIk("role",s.role)("tabindex",s.tabindex)},features:[a._Bn([x])]}),c})(),w=(()=>{class c{static forRoot(){return{ngModule:c,providers:[]}}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=a.oAB({type:c}),c.\u0275inj=a.cJS({}),c})()},9241:(B,C,d)=>{d.d(C,{P4:()=>t});var a=d(1571),_=d(6895);let t=(()=>{class s{static forRoot(){return{ngModule:s,providers:[]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[_.ez]}),s})()}}]);